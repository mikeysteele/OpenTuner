{
  "version": 3,
  "sources": ["../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/platform.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/dom.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/observation/notifier.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/observation/observable.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/html-directive.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/binding.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/compiler.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/view.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/template.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/styles/element-styles.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/components/attributes.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/components/fast-definitions.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/components/controller.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/components/fast-element.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/styles/css-directive.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/styles/css.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/observation/array-change-records.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/observation/array-observer.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/ref.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/interfaces.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/when.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/node-observation.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/slotted.js", "../../../../node_modules/.deno/@microsoft+fast-element@1.14.0/node_modules/@microsoft/fast-element/dist/esm/templating/children.js"],
  "sourcesContent": ["/**\n * A reference to globalThis, with support\n * for browsers that don't yet support the spec.\n * @public\n */\nexport const $global = (function () {\n    if (typeof globalThis !== \"undefined\") {\n        // We're running in a modern environment.\n        return globalThis;\n    }\n    if (typeof global !== \"undefined\") {\n        // We're running in NodeJS\n        return global;\n    }\n    if (typeof self !== \"undefined\") {\n        // We're running in a worker.\n        return self;\n    }\n    if (typeof window !== \"undefined\") {\n        // We're running in the browser's main thread.\n        return window;\n    }\n    try {\n        // Hopefully we never get here...\n        // Not all environments allow eval and Function. Use only as a last resort:\n        // eslint-disable-next-line no-new-func\n        return new Function(\"return this\")();\n    }\n    catch (_a) {\n        // If all fails, give up and create an object.\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        return {};\n    }\n})();\n// API-only Polyfill for trustedTypes\nif ($global.trustedTypes === void 0) {\n    $global.trustedTypes = { createPolicy: (n, r) => r };\n}\nconst propConfig = {\n    configurable: false,\n    enumerable: false,\n    writable: false,\n};\nif ($global.FAST === void 0) {\n    Reflect.defineProperty($global, \"FAST\", Object.assign({ value: Object.create(null) }, propConfig));\n}\n/**\n * The FAST global.\n * @internal\n */\nexport const FAST = $global.FAST;\nif (FAST.getById === void 0) {\n    const storage = Object.create(null);\n    Reflect.defineProperty(FAST, \"getById\", Object.assign({ value(id, initialize) {\n            let found = storage[id];\n            if (found === void 0) {\n                found = initialize ? (storage[id] = initialize()) : null;\n            }\n            return found;\n        } }, propConfig));\n}\n/**\n * A readonly, empty array.\n * @remarks\n * Typically returned by APIs that return arrays when there are\n * no actual items to return.\n * @internal\n */\nexport const emptyArray = Object.freeze([]);\n/**\n * Creates a function capable of locating metadata associated with a type.\n * @returns A metadata locator function.\n * @internal\n */\nexport function createMetadataLocator() {\n    const metadataLookup = new WeakMap();\n    return function (target) {\n        let metadata = metadataLookup.get(target);\n        if (metadata === void 0) {\n            let currentTarget = Reflect.getPrototypeOf(target);\n            while (metadata === void 0 && currentTarget !== null) {\n                metadata = metadataLookup.get(currentTarget);\n                currentTarget = Reflect.getPrototypeOf(currentTarget);\n            }\n            metadata = metadata === void 0 ? [] : metadata.slice(0);\n            metadataLookup.set(target, metadata);\n        }\n        return metadata;\n    };\n}\n", "import { $global } from \"./platform.js\";\nconst updateQueue = $global.FAST.getById(1 /* updateQueue */, () => {\n    const tasks = [];\n    const pendingErrors = [];\n    function throwFirstError() {\n        if (pendingErrors.length) {\n            throw pendingErrors.shift();\n        }\n    }\n    function tryRunTask(task) {\n        try {\n            task.call();\n        }\n        catch (error) {\n            pendingErrors.push(error);\n            setTimeout(throwFirstError, 0);\n        }\n    }\n    function process() {\n        const capacity = 1024;\n        let index = 0;\n        while (index < tasks.length) {\n            tryRunTask(tasks[index]);\n            index++;\n            // Prevent leaking memory for long chains of recursive calls to `DOM.queueUpdate`.\n            // If we call `DOM.queueUpdate` within a task scheduled by `DOM.queueUpdate`, the queue will\n            // grow, but to avoid an O(n) walk for every task we execute, we don't\n            // shift tasks off the queue after they have been executed.\n            // Instead, we periodically shift 1024 tasks off the queue.\n            if (index > capacity) {\n                // Manually shift all values starting at the index back to the\n                // beginning of the queue.\n                for (let scan = 0, newLength = tasks.length - index; scan < newLength; scan++) {\n                    tasks[scan] = tasks[scan + index];\n                }\n                tasks.length -= index;\n                index = 0;\n            }\n        }\n        tasks.length = 0;\n    }\n    function enqueue(callable) {\n        if (tasks.length < 1) {\n            $global.requestAnimationFrame(process);\n        }\n        tasks.push(callable);\n    }\n    return Object.freeze({\n        enqueue,\n        process,\n    });\n});\n/* eslint-disable */\nconst fastHTMLPolicy = $global.trustedTypes.createPolicy(\"fast-html\", {\n    createHTML: html => html,\n});\n/* eslint-enable */\nlet htmlPolicy = fastHTMLPolicy;\nconst marker = `fast-${Math.random().toString(36).substring(2, 8)}`;\n/** @internal */\nexport const _interpolationStart = `${marker}{`;\n/** @internal */\nexport const _interpolationEnd = `}${marker}`;\n/**\n * Common DOM APIs.\n * @public\n */\nexport const DOM = Object.freeze({\n    /**\n     * Indicates whether the DOM supports the adoptedStyleSheets feature.\n     */\n    supportsAdoptedStyleSheets: Array.isArray(document.adoptedStyleSheets) &&\n        \"replace\" in CSSStyleSheet.prototype,\n    /**\n     * Sets the HTML trusted types policy used by the templating engine.\n     * @param policy - The policy to set for HTML.\n     * @remarks\n     * This API can only be called once, for security reasons. It should be\n     * called by the application developer at the start of their program.\n     */\n    setHTMLPolicy(policy) {\n        if (htmlPolicy !== fastHTMLPolicy) {\n            throw new Error(\"The HTML policy can only be set once.\");\n        }\n        htmlPolicy = policy;\n    },\n    /**\n     * Turns a string into trusted HTML using the configured trusted types policy.\n     * @param html - The string to turn into trusted HTML.\n     * @remarks\n     * Used internally by the template engine when creating templates\n     * and setting innerHTML.\n     */\n    createHTML(html) {\n        return htmlPolicy.createHTML(html);\n    },\n    /**\n     * Determines if the provided node is a template marker used by the runtime.\n     * @param node - The node to test.\n     */\n    isMarker(node) {\n        return node && node.nodeType === 8 && node.data.startsWith(marker);\n    },\n    /**\n     * Given a marker node, extract the {@link HTMLDirective} index from the placeholder.\n     * @param node - The marker node to extract the index from.\n     */\n    extractDirectiveIndexFromMarker(node) {\n        return parseInt(node.data.replace(`${marker}:`, \"\"));\n    },\n    /**\n     * Creates a placeholder string suitable for marking out a location *within*\n     * an attribute value or HTML content.\n     * @param index - The directive index to create the placeholder for.\n     * @remarks\n     * Used internally by binding directives.\n     */\n    createInterpolationPlaceholder(index) {\n        return `${_interpolationStart}${index}${_interpolationEnd}`;\n    },\n    /**\n     * Creates a placeholder that manifests itself as an attribute on an\n     * element.\n     * @param attributeName - The name of the custom attribute.\n     * @param index - The directive index to create the placeholder for.\n     * @remarks\n     * Used internally by attribute directives such as `ref`, `slotted`, and `children`.\n     */\n    createCustomAttributePlaceholder(attributeName, index) {\n        return `${attributeName}=\"${this.createInterpolationPlaceholder(index)}\"`;\n    },\n    /**\n     * Creates a placeholder that manifests itself as a marker within the DOM structure.\n     * @param index - The directive index to create the placeholder for.\n     * @remarks\n     * Used internally by structural directives such as `repeat`.\n     */\n    createBlockPlaceholder(index) {\n        return `<!--${marker}:${index}-->`;\n    },\n    /**\n     * Schedules DOM update work in the next async batch.\n     * @param callable - The callable function or object to queue.\n     */\n    queueUpdate: updateQueue.enqueue,\n    /**\n     * Immediately processes all work previously scheduled\n     * through queueUpdate.\n     * @remarks\n     * This also forces nextUpdate promises\n     * to resolve.\n     */\n    processUpdates: updateQueue.process,\n    /**\n     * Resolves with the next DOM update.\n     */\n    nextUpdate() {\n        return new Promise(updateQueue.enqueue);\n    },\n    /**\n     * Sets an attribute value on an element.\n     * @param element - The element to set the attribute value on.\n     * @param attributeName - The attribute name to set.\n     * @param value - The value of the attribute to set.\n     * @remarks\n     * If the value is `null` or `undefined`, the attribute is removed, otherwise\n     * it is set to the provided value using the standard `setAttribute` API.\n     */\n    setAttribute(element, attributeName, value) {\n        if (value === null || value === undefined) {\n            element.removeAttribute(attributeName);\n        }\n        else {\n            element.setAttribute(attributeName, value);\n        }\n    },\n    /**\n     * Sets a boolean attribute value.\n     * @param element - The element to set the boolean attribute value on.\n     * @param attributeName - The attribute name to set.\n     * @param value - The value of the attribute to set.\n     * @remarks\n     * If the value is true, the attribute is added; otherwise it is removed.\n     */\n    setBooleanAttribute(element, attributeName, value) {\n        value\n            ? element.setAttribute(attributeName, \"\")\n            : element.removeAttribute(attributeName);\n    },\n    /**\n     * Removes all the child nodes of the provided parent node.\n     * @param parent - The node to remove the children from.\n     */\n    removeChildNodes(parent) {\n        for (let child = parent.firstChild; child !== null; child = parent.firstChild) {\n            parent.removeChild(child);\n        }\n    },\n    /**\n     * Creates a TreeWalker configured to walk a template fragment.\n     * @param fragment - The fragment to walk.\n     */\n    createTemplateWalker(fragment) {\n        return document.createTreeWalker(fragment, 133, // element, text, comment\n        null, false);\n    },\n});\n", "/**\n * An implementation of {@link Notifier} that efficiently keeps track of\n * subscribers interested in a specific change notification on an\n * observable source.\n *\n * @remarks\n * This set is optimized for the most common scenario of 1 or 2 subscribers.\n * With this in mind, it can store a subscriber in an internal field, allowing it to avoid Array#push operations.\n * If the set ever exceeds two subscribers, it upgrades to an array automatically.\n * @public\n */\nexport class SubscriberSet {\n    /**\n     * Creates an instance of SubscriberSet for the specified source.\n     * @param source - The object source that subscribers will receive notifications from.\n     * @param initialSubscriber - An initial subscriber to changes.\n     */\n    constructor(source, initialSubscriber) {\n        this.sub1 = void 0;\n        this.sub2 = void 0;\n        this.spillover = void 0;\n        this.source = source;\n        this.sub1 = initialSubscriber;\n    }\n    /**\n     * Checks whether the provided subscriber has been added to this set.\n     * @param subscriber - The subscriber to test for inclusion in this set.\n     */\n    has(subscriber) {\n        return this.spillover === void 0\n            ? this.sub1 === subscriber || this.sub2 === subscriber\n            : this.spillover.indexOf(subscriber) !== -1;\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     */\n    subscribe(subscriber) {\n        const spillover = this.spillover;\n        if (spillover === void 0) {\n            if (this.has(subscriber)) {\n                return;\n            }\n            if (this.sub1 === void 0) {\n                this.sub1 = subscriber;\n                return;\n            }\n            if (this.sub2 === void 0) {\n                this.sub2 = subscriber;\n                return;\n            }\n            this.spillover = [this.sub1, this.sub2, subscriber];\n            this.sub1 = void 0;\n            this.sub2 = void 0;\n        }\n        else {\n            const index = spillover.indexOf(subscriber);\n            if (index === -1) {\n                spillover.push(subscriber);\n            }\n        }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     */\n    unsubscribe(subscriber) {\n        const spillover = this.spillover;\n        if (spillover === void 0) {\n            if (this.sub1 === subscriber) {\n                this.sub1 = void 0;\n            }\n            else if (this.sub2 === subscriber) {\n                this.sub2 = void 0;\n            }\n        }\n        else {\n            const index = spillover.indexOf(subscriber);\n            if (index !== -1) {\n                spillover.splice(index, 1);\n            }\n        }\n    }\n    /**\n     * Notifies all subscribers.\n     * @param args - Data passed along to subscribers during notification.\n     */\n    notify(args) {\n        const spillover = this.spillover;\n        const source = this.source;\n        if (spillover === void 0) {\n            const sub1 = this.sub1;\n            const sub2 = this.sub2;\n            if (sub1 !== void 0) {\n                sub1.handleChange(source, args);\n            }\n            if (sub2 !== void 0) {\n                sub2.handleChange(source, args);\n            }\n        }\n        else {\n            for (let i = 0, ii = spillover.length; i < ii; ++i) {\n                spillover[i].handleChange(source, args);\n            }\n        }\n    }\n}\n/**\n * An implementation of Notifier that allows subscribers to be notified\n * of individual property changes on an object.\n * @public\n */\nexport class PropertyChangeNotifier {\n    /**\n     * Creates an instance of PropertyChangeNotifier for the specified source.\n     * @param source - The object source that subscribers will receive notifications from.\n     */\n    constructor(source) {\n        this.subscribers = {};\n        this.sourceSubscribers = null;\n        this.source = source;\n    }\n    /**\n     * Notifies all subscribers, based on the specified property.\n     * @param propertyName - The property name, passed along to subscribers during notification.\n     */\n    notify(propertyName) {\n        var _a;\n        const subscribers = this.subscribers[propertyName];\n        if (subscribers !== void 0) {\n            subscribers.notify(propertyName);\n        }\n        (_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.notify(propertyName);\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     * @param propertyToWatch - The name of the property that the subscriber is interested in watching for changes.\n     */\n    subscribe(subscriber, propertyToWatch) {\n        var _a;\n        if (propertyToWatch) {\n            let subscribers = this.subscribers[propertyToWatch];\n            if (subscribers === void 0) {\n                this.subscribers[propertyToWatch] = subscribers = new SubscriberSet(this.source);\n            }\n            subscribers.subscribe(subscriber);\n        }\n        else {\n            this.sourceSubscribers =\n                (_a = this.sourceSubscribers) !== null && _a !== void 0 ? _a : new SubscriberSet(this.source);\n            this.sourceSubscribers.subscribe(subscriber);\n        }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     * @param propertyToUnwatch - The name of the property that the subscriber is no longer interested in watching.\n     */\n    unsubscribe(subscriber, propertyToUnwatch) {\n        var _a;\n        if (propertyToUnwatch) {\n            const subscribers = this.subscribers[propertyToUnwatch];\n            if (subscribers !== void 0) {\n                subscribers.unsubscribe(subscriber);\n            }\n        }\n        else {\n            (_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.unsubscribe(subscriber);\n        }\n    }\n}\n", "import { DOM } from \"../dom.js\";\nimport { createMetadataLocator, FAST } from \"../platform.js\";\nimport { PropertyChangeNotifier, SubscriberSet } from \"./notifier.js\";\n/**\n * Common Observable APIs.\n * @public\n */\nexport const Observable = FAST.getById(2 /* observable */, () => {\n    const volatileRegex = /(:|&&|\\|\\||if)/;\n    const notifierLookup = new WeakMap();\n    const queueUpdate = DOM.queueUpdate;\n    let watcher = void 0;\n    let createArrayObserver = (array) => {\n        throw new Error(\"Must call enableArrayObservation before observing arrays.\");\n    };\n    function getNotifier(source) {\n        let found = source.$fastController || notifierLookup.get(source);\n        if (found === void 0) {\n            if (Array.isArray(source)) {\n                found = createArrayObserver(source);\n            }\n            else {\n                notifierLookup.set(source, (found = new PropertyChangeNotifier(source)));\n            }\n        }\n        return found;\n    }\n    const getAccessors = createMetadataLocator();\n    class DefaultObservableAccessor {\n        constructor(name) {\n            this.name = name;\n            this.field = `_${name}`;\n            this.callback = `${name}Changed`;\n        }\n        getValue(source) {\n            if (watcher !== void 0) {\n                watcher.watch(source, this.name);\n            }\n            return source[this.field];\n        }\n        setValue(source, newValue) {\n            const field = this.field;\n            const oldValue = source[field];\n            if (oldValue !== newValue) {\n                source[field] = newValue;\n                const callback = source[this.callback];\n                if (typeof callback === \"function\") {\n                    callback.call(source, oldValue, newValue);\n                }\n                getNotifier(source).notify(this.name);\n            }\n        }\n    }\n    class BindingObserverImplementation extends SubscriberSet {\n        constructor(binding, initialSubscriber, isVolatileBinding = false) {\n            super(binding, initialSubscriber);\n            this.binding = binding;\n            this.isVolatileBinding = isVolatileBinding;\n            this.needsRefresh = true;\n            this.needsQueue = true;\n            this.first = this;\n            this.last = null;\n            this.propertySource = void 0;\n            this.propertyName = void 0;\n            this.notifier = void 0;\n            this.next = void 0;\n        }\n        observe(source, context) {\n            if (this.needsRefresh && this.last !== null) {\n                this.disconnect();\n            }\n            const previousWatcher = watcher;\n            watcher = this.needsRefresh ? this : void 0;\n            this.needsRefresh = this.isVolatileBinding;\n            const result = this.binding(source, context);\n            watcher = previousWatcher;\n            return result;\n        }\n        disconnect() {\n            if (this.last !== null) {\n                let current = this.first;\n                while (current !== void 0) {\n                    current.notifier.unsubscribe(this, current.propertyName);\n                    current = current.next;\n                }\n                this.last = null;\n                this.needsRefresh = this.needsQueue = true;\n            }\n        }\n        watch(propertySource, propertyName) {\n            const prev = this.last;\n            const notifier = getNotifier(propertySource);\n            const current = prev === null ? this.first : {};\n            current.propertySource = propertySource;\n            current.propertyName = propertyName;\n            current.notifier = notifier;\n            notifier.subscribe(this, propertyName);\n            if (prev !== null) {\n                if (!this.needsRefresh) {\n                    // Declaring the variable prior to assignment below circumvents\n                    // a bug in Angular's optimization process causing infinite recursion\n                    // of this watch() method. Details https://github.com/microsoft/fast/issues/4969\n                    let prevValue;\n                    watcher = void 0;\n                    /* eslint-disable-next-line */\n                    prevValue = prev.propertySource[prev.propertyName];\n                    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n                    watcher = this;\n                    if (propertySource === prevValue) {\n                        this.needsRefresh = true;\n                    }\n                }\n                prev.next = current;\n            }\n            this.last = current;\n        }\n        handleChange() {\n            if (this.needsQueue) {\n                this.needsQueue = false;\n                queueUpdate(this);\n            }\n        }\n        call() {\n            if (this.last !== null) {\n                this.needsQueue = true;\n                this.notify(this);\n            }\n        }\n        records() {\n            let next = this.first;\n            return {\n                next: () => {\n                    const current = next;\n                    if (current === undefined) {\n                        return { value: void 0, done: true };\n                    }\n                    else {\n                        next = next.next;\n                        return {\n                            value: current,\n                            done: false,\n                        };\n                    }\n                },\n                [Symbol.iterator]: function () {\n                    return this;\n                },\n            };\n        }\n    }\n    return Object.freeze({\n        /**\n         * @internal\n         * @param factory - The factory used to create array observers.\n         */\n        setArrayObserverFactory(factory) {\n            createArrayObserver = factory;\n        },\n        /**\n         * Gets a notifier for an object or Array.\n         * @param source - The object or Array to get the notifier for.\n         */\n        getNotifier,\n        /**\n         * Records a property change for a source object.\n         * @param source - The object to record the change against.\n         * @param propertyName - The property to track as changed.\n         */\n        track(source, propertyName) {\n            if (watcher !== void 0) {\n                watcher.watch(source, propertyName);\n            }\n        },\n        /**\n         * Notifies watchers that the currently executing property getter or function is volatile\n         * with respect to its observable dependencies.\n         */\n        trackVolatile() {\n            if (watcher !== void 0) {\n                watcher.needsRefresh = true;\n            }\n        },\n        /**\n         * Notifies subscribers of a source object of changes.\n         * @param source - the object to notify of changes.\n         * @param args - The change args to pass to subscribers.\n         */\n        notify(source, args) {\n            getNotifier(source).notify(args);\n        },\n        /**\n         * Defines an observable property on an object or prototype.\n         * @param target - The target object to define the observable on.\n         * @param nameOrAccessor - The name of the property to define as observable;\n         * or a custom accessor that specifies the property name and accessor implementation.\n         */\n        defineProperty(target, nameOrAccessor) {\n            if (typeof nameOrAccessor === \"string\") {\n                nameOrAccessor = new DefaultObservableAccessor(nameOrAccessor);\n            }\n            getAccessors(target).push(nameOrAccessor);\n            Reflect.defineProperty(target, nameOrAccessor.name, {\n                enumerable: true,\n                get: function () {\n                    return nameOrAccessor.getValue(this);\n                },\n                set: function (newValue) {\n                    nameOrAccessor.setValue(this, newValue);\n                },\n            });\n        },\n        /**\n         * Finds all the observable accessors defined on the target,\n         * including its prototype chain.\n         * @param target - The target object to search for accessor on.\n         */\n        getAccessors,\n        /**\n         * Creates a {@link BindingObserver} that can watch the\n         * provided {@link Binding} for changes.\n         * @param binding - The binding to observe.\n         * @param initialSubscriber - An initial subscriber to changes in the binding value.\n         * @param isVolatileBinding - Indicates whether the binding's dependency list must be re-evaluated on every value evaluation.\n         */\n        binding(binding, initialSubscriber, isVolatileBinding = this.isVolatileBinding(binding)) {\n            return new BindingObserverImplementation(binding, initialSubscriber, isVolatileBinding);\n        },\n        /**\n         * Determines whether a binding expression is volatile and needs to have its dependency list re-evaluated\n         * on every evaluation of the value.\n         * @param binding - The binding to inspect.\n         */\n        isVolatileBinding(binding) {\n            return volatileRegex.test(binding.toString());\n        },\n    });\n});\n/**\n * Decorator: Defines an observable property on the target.\n * @param target - The target to define the observable on.\n * @param nameOrAccessor - The property name or accessor to define the observable as.\n * @public\n */\nexport function observable(target, nameOrAccessor) {\n    Observable.defineProperty(target, nameOrAccessor);\n}\n/**\n * Decorator: Marks a property getter as having volatile observable dependencies.\n * @param target - The target that the property is defined on.\n * @param name - The property name.\n * @param name - The existing descriptor.\n * @public\n */\nexport function volatile(target, name, descriptor) {\n    return Object.assign({}, descriptor, {\n        get: function () {\n            Observable.trackVolatile();\n            return descriptor.get.apply(this);\n        },\n    });\n}\nconst contextEvent = FAST.getById(3 /* contextEvent */, () => {\n    let current = null;\n    return {\n        get() {\n            return current;\n        },\n        set(event) {\n            current = event;\n        },\n    };\n});\n/**\n * Provides additional contextual information available to behaviors and expressions.\n * @public\n */\nexport class ExecutionContext {\n    constructor() {\n        /**\n         * The index of the current item within a repeat context.\n         */\n        this.index = 0;\n        /**\n         * The length of the current collection within a repeat context.\n         */\n        this.length = 0;\n        /**\n         * The parent data object within a repeat context.\n         */\n        this.parent = null;\n        /**\n         * The parent execution context when in nested context scenarios.\n         */\n        this.parentContext = null;\n    }\n    /**\n     * The current event within an event handler.\n     */\n    get event() {\n        return contextEvent.get();\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * has an even index.\n     */\n    get isEven() {\n        return this.index % 2 === 0;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * has an odd index.\n     */\n    get isOdd() {\n        return this.index % 2 !== 0;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * is the first item in the collection.\n     */\n    get isFirst() {\n        return this.index === 0;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * is somewhere in the middle of the collection.\n     */\n    get isInMiddle() {\n        return !this.isFirst && !this.isLast;\n    }\n    /**\n     * Indicates whether the current item within a repeat context\n     * is the last item in the collection.\n     */\n    get isLast() {\n        return this.index === this.length - 1;\n    }\n    /**\n     * Sets the event for the current execution context.\n     * @param event - The event to set.\n     * @internal\n     */\n    static setEvent(event) {\n        contextEvent.set(event);\n    }\n}\nObservable.defineProperty(ExecutionContext.prototype, \"index\");\nObservable.defineProperty(ExecutionContext.prototype, \"length\");\n/**\n * The default execution context used in binding expressions.\n * @public\n */\nexport const defaultExecutionContext = Object.seal(new ExecutionContext());\n", "import { DOM } from \"../dom.js\";\n/**\n * Instructs the template engine to apply behavior to a node.\n * @public\n */\nexport class HTMLDirective {\n    constructor() {\n        /**\n         * The index of the DOM node to which the created behavior will apply.\n         */\n        this.targetIndex = 0;\n    }\n}\n/**\n * A {@link HTMLDirective} that targets a named attribute or property on a node.\n * @public\n */\nexport class TargetedHTMLDirective extends HTMLDirective {\n    constructor() {\n        super(...arguments);\n        /**\n         * Creates a placeholder string based on the directive's index within the template.\n         * @param index - The index of the directive within the template.\n         */\n        this.createPlaceholder = DOM.createInterpolationPlaceholder;\n    }\n}\n/**\n * A directive that attaches special behavior to an element via a custom attribute.\n * @public\n */\nexport class AttachedBehaviorHTMLDirective extends HTMLDirective {\n    /**\n     *\n     * @param name - The name of the behavior; used as a custom attribute on the element.\n     * @param behavior - The behavior to instantiate and attach to the element.\n     * @param options - Options to pass to the behavior during creation.\n     */\n    constructor(name, behavior, options) {\n        super();\n        this.name = name;\n        this.behavior = behavior;\n        this.options = options;\n    }\n    /**\n     * Creates a placeholder string based on the directive's index within the template.\n     * @param index - The index of the directive within the template.\n     * @remarks\n     * Creates a custom attribute placeholder.\n     */\n    createPlaceholder(index) {\n        return DOM.createCustomAttributePlaceholder(this.name, index);\n    }\n    /**\n     * Creates a behavior for the provided target node.\n     * @param target - The node instance to create the behavior for.\n     * @remarks\n     * Creates an instance of the `behavior` type this directive was constructed with\n     * and passes the target and options to that `behavior`'s constructor.\n     */\n    createBehavior(target) {\n        return new this.behavior(target, this.options);\n    }\n}\n", "import { DOM } from \"../dom.js\";\nimport { ExecutionContext, Observable, } from \"../observation/observable.js\";\nimport { TargetedHTMLDirective } from \"./html-directive.js\";\nfunction normalBind(source, context) {\n    this.source = source;\n    this.context = context;\n    if (this.bindingObserver === null) {\n        this.bindingObserver = Observable.binding(this.binding, this, this.isBindingVolatile);\n    }\n    this.updateTarget(this.bindingObserver.observe(source, context));\n}\nfunction triggerBind(source, context) {\n    this.source = source;\n    this.context = context;\n    this.target.addEventListener(this.targetName, this);\n}\nfunction normalUnbind() {\n    this.bindingObserver.disconnect();\n    this.source = null;\n    this.context = null;\n}\nfunction contentUnbind() {\n    this.bindingObserver.disconnect();\n    this.source = null;\n    this.context = null;\n    const view = this.target.$fastView;\n    if (view !== void 0 && view.isComposed) {\n        view.unbind();\n        view.needsBindOnly = true;\n    }\n}\nfunction triggerUnbind() {\n    this.target.removeEventListener(this.targetName, this);\n    this.source = null;\n    this.context = null;\n}\nfunction updateAttributeTarget(value) {\n    DOM.setAttribute(this.target, this.targetName, value);\n}\nfunction updateBooleanAttributeTarget(value) {\n    DOM.setBooleanAttribute(this.target, this.targetName, value);\n}\nfunction updateContentTarget(value) {\n    // If there's no actual value, then this equates to the\n    // empty string for the purposes of content bindings.\n    if (value === null || value === undefined) {\n        value = \"\";\n    }\n    // If the value has a \"create\" method, then it's a template-like.\n    if (value.create) {\n        this.target.textContent = \"\";\n        let view = this.target.$fastView;\n        // If there's no previous view that we might be able to\n        // reuse then create a new view from the template.\n        if (view === void 0) {\n            view = value.create();\n        }\n        else {\n            // If there is a previous view, but it wasn't created\n            // from the same template as the new value, then we\n            // need to remove the old view if it's still in the DOM\n            // and create a new view from the template.\n            if (this.target.$fastTemplate !== value) {\n                if (view.isComposed) {\n                    view.remove();\n                    view.unbind();\n                }\n                view = value.create();\n            }\n        }\n        // It's possible that the value is the same as the previous template\n        // and that there's actually no need to compose it.\n        if (!view.isComposed) {\n            view.isComposed = true;\n            view.bind(this.source, this.context);\n            view.insertBefore(this.target);\n            this.target.$fastView = view;\n            this.target.$fastTemplate = value;\n        }\n        else if (view.needsBindOnly) {\n            view.needsBindOnly = false;\n            view.bind(this.source, this.context);\n        }\n    }\n    else {\n        const view = this.target.$fastView;\n        // If there is a view and it's currently composed into\n        // the DOM, then we need to remove it.\n        if (view !== void 0 && view.isComposed) {\n            view.isComposed = false;\n            view.remove();\n            if (view.needsBindOnly) {\n                view.needsBindOnly = false;\n            }\n            else {\n                view.unbind();\n            }\n        }\n        this.target.textContent = value;\n    }\n}\nfunction updatePropertyTarget(value) {\n    this.target[this.targetName] = value;\n}\nfunction updateClassTarget(value) {\n    const classVersions = this.classVersions || Object.create(null);\n    const target = this.target;\n    let version = this.version || 0;\n    // Add the classes, tracking the version at which they were added.\n    if (value !== null && value !== undefined && value.length) {\n        const names = value.split(/\\s+/);\n        for (let i = 0, ii = names.length; i < ii; ++i) {\n            const currentName = names[i];\n            if (currentName === \"\") {\n                continue;\n            }\n            classVersions[currentName] = version;\n            target.classList.add(currentName);\n        }\n    }\n    this.classVersions = classVersions;\n    this.version = version + 1;\n    // If this is the first call to add classes, there's no need to remove old ones.\n    if (version === 0) {\n        return;\n    }\n    // Remove classes from the previous version.\n    version -= 1;\n    for (const name in classVersions) {\n        if (classVersions[name] === version) {\n            target.classList.remove(name);\n        }\n    }\n}\n/**\n * A directive that configures data binding to element content and attributes.\n * @public\n */\nexport class HTMLBindingDirective extends TargetedHTMLDirective {\n    /**\n     * Creates an instance of BindingDirective.\n     * @param binding - A binding that returns the data used to update the DOM.\n     */\n    constructor(binding) {\n        super();\n        this.binding = binding;\n        this.bind = normalBind;\n        this.unbind = normalUnbind;\n        this.updateTarget = updateAttributeTarget;\n        this.isBindingVolatile = Observable.isVolatileBinding(this.binding);\n    }\n    /**\n     * Gets/sets the name of the attribute or property that this\n     * binding is targeting.\n     */\n    get targetName() {\n        return this.originalTargetName;\n    }\n    set targetName(value) {\n        this.originalTargetName = value;\n        if (value === void 0) {\n            return;\n        }\n        switch (value[0]) {\n            case \":\":\n                this.cleanedTargetName = value.substr(1);\n                this.updateTarget = updatePropertyTarget;\n                if (this.cleanedTargetName === \"innerHTML\") {\n                    const binding = this.binding;\n                    this.binding = (s, c) => DOM.createHTML(binding(s, c));\n                }\n                break;\n            case \"?\":\n                this.cleanedTargetName = value.substr(1);\n                this.updateTarget = updateBooleanAttributeTarget;\n                break;\n            case \"@\":\n                this.cleanedTargetName = value.substr(1);\n                this.bind = triggerBind;\n                this.unbind = triggerUnbind;\n                break;\n            default:\n                this.cleanedTargetName = value;\n                if (value === \"class\") {\n                    this.updateTarget = updateClassTarget;\n                }\n                break;\n        }\n    }\n    /**\n     * Makes this binding target the content of an element rather than\n     * a particular attribute or property.\n     */\n    targetAtContent() {\n        this.updateTarget = updateContentTarget;\n        this.unbind = contentUnbind;\n    }\n    /**\n     * Creates the runtime BindingBehavior instance based on the configuration\n     * information stored in the BindingDirective.\n     * @param target - The target node that the binding behavior should attach to.\n     */\n    createBehavior(target) {\n        /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n        return new BindingBehavior(target, this.binding, this.isBindingVolatile, this.bind, this.unbind, this.updateTarget, this.cleanedTargetName);\n    }\n}\n/**\n * A behavior that updates content and attributes based on a configured\n * BindingDirective.\n * @public\n */\nexport class BindingBehavior {\n    /**\n     * Creates an instance of BindingBehavior.\n     * @param target - The target of the data updates.\n     * @param binding - The binding that returns the latest value for an update.\n     * @param isBindingVolatile - Indicates whether the binding has volatile dependencies.\n     * @param bind - The operation to perform during binding.\n     * @param unbind - The operation to perform during unbinding.\n     * @param updateTarget - The operation to perform when updating.\n     * @param targetName - The name of the target attribute or property to update.\n     */\n    constructor(target, binding, isBindingVolatile, bind, unbind, updateTarget, targetName) {\n        /** @internal */\n        this.source = null;\n        /** @internal */\n        this.context = null;\n        /** @internal */\n        this.bindingObserver = null;\n        this.target = target;\n        this.binding = binding;\n        this.isBindingVolatile = isBindingVolatile;\n        this.bind = bind;\n        this.unbind = unbind;\n        this.updateTarget = updateTarget;\n        this.targetName = targetName;\n    }\n    /** @internal */\n    handleChange() {\n        this.updateTarget(this.bindingObserver.observe(this.source, this.context));\n    }\n    /** @internal */\n    handleEvent(event) {\n        ExecutionContext.setEvent(event);\n        const result = this.binding(this.source, this.context);\n        ExecutionContext.setEvent(null);\n        if (result !== true) {\n            event.preventDefault();\n        }\n    }\n}\n", "import { _interpolationEnd, _interpolationStart, DOM } from \"../dom.js\";\nimport { HTMLBindingDirective } from \"./binding.js\";\nlet sharedContext = null;\nclass CompilationContext {\n    addFactory(factory) {\n        factory.targetIndex = this.targetIndex;\n        this.behaviorFactories.push(factory);\n    }\n    captureContentBinding(directive) {\n        directive.targetAtContent();\n        this.addFactory(directive);\n    }\n    reset() {\n        this.behaviorFactories = [];\n        this.targetIndex = -1;\n    }\n    release() {\n        /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n        sharedContext = this;\n    }\n    static borrow(directives) {\n        const shareable = sharedContext || new CompilationContext();\n        shareable.directives = directives;\n        shareable.reset();\n        sharedContext = null;\n        return shareable;\n    }\n}\nfunction createAggregateBinding(parts) {\n    if (parts.length === 1) {\n        return parts[0];\n    }\n    let targetName;\n    const partCount = parts.length;\n    const finalParts = parts.map((x) => {\n        if (typeof x === \"string\") {\n            return () => x;\n        }\n        targetName = x.targetName || targetName;\n        return x.binding;\n    });\n    const binding = (scope, context) => {\n        let output = \"\";\n        for (let i = 0; i < partCount; ++i) {\n            output += finalParts[i](scope, context);\n        }\n        return output;\n    };\n    const directive = new HTMLBindingDirective(binding);\n    directive.targetName = targetName;\n    return directive;\n}\nconst interpolationEndLength = _interpolationEnd.length;\nfunction parseContent(context, value) {\n    const valueParts = value.split(_interpolationStart);\n    if (valueParts.length === 1) {\n        return null;\n    }\n    const bindingParts = [];\n    for (let i = 0, ii = valueParts.length; i < ii; ++i) {\n        const current = valueParts[i];\n        const index = current.indexOf(_interpolationEnd);\n        let literal;\n        if (index === -1) {\n            literal = current;\n        }\n        else {\n            const directiveIndex = parseInt(current.substring(0, index));\n            bindingParts.push(context.directives[directiveIndex]);\n            literal = current.substring(index + interpolationEndLength);\n        }\n        if (literal !== \"\") {\n            bindingParts.push(literal);\n        }\n    }\n    return bindingParts;\n}\nfunction compileAttributes(context, node, includeBasicValues = false) {\n    const attributes = node.attributes;\n    for (let i = 0, ii = attributes.length; i < ii; ++i) {\n        const attr = attributes[i];\n        const attrValue = attr.value;\n        const parseResult = parseContent(context, attrValue);\n        let result = null;\n        if (parseResult === null) {\n            if (includeBasicValues) {\n                result = new HTMLBindingDirective(() => attrValue);\n                result.targetName = attr.name;\n            }\n        }\n        else {\n            result = createAggregateBinding(parseResult);\n        }\n        if (result !== null) {\n            node.removeAttributeNode(attr);\n            i--;\n            ii--;\n            context.addFactory(result);\n        }\n    }\n}\nfunction compileContent(context, node, walker) {\n    const parseResult = parseContent(context, node.textContent);\n    if (parseResult !== null) {\n        let lastNode = node;\n        for (let i = 0, ii = parseResult.length; i < ii; ++i) {\n            const currentPart = parseResult[i];\n            const currentNode = i === 0\n                ? node\n                : lastNode.parentNode.insertBefore(document.createTextNode(\"\"), lastNode.nextSibling);\n            if (typeof currentPart === \"string\") {\n                currentNode.textContent = currentPart;\n            }\n            else {\n                currentNode.textContent = \" \";\n                context.captureContentBinding(currentPart);\n            }\n            lastNode = currentNode;\n            context.targetIndex++;\n            if (currentNode !== node) {\n                walker.nextNode();\n            }\n        }\n        context.targetIndex--;\n    }\n}\n/**\n * Compiles a template and associated directives into a raw compilation\n * result which include a cloneable DocumentFragment and factories capable\n * of attaching runtime behavior to nodes within the fragment.\n * @param template - The template to compile.\n * @param directives - The directives referenced by the template.\n * @remarks\n * The template that is provided for compilation is altered in-place\n * and cannot be compiled again. If the original template must be preserved,\n * it is recommended that you clone the original and pass the clone to this API.\n * @public\n */\nexport function compileTemplate(template, directives) {\n    const fragment = template.content;\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=1111864\n    document.adoptNode(fragment);\n    const context = CompilationContext.borrow(directives);\n    compileAttributes(context, template, true);\n    const hostBehaviorFactories = context.behaviorFactories;\n    context.reset();\n    const walker = DOM.createTemplateWalker(fragment);\n    let node;\n    while ((node = walker.nextNode())) {\n        context.targetIndex++;\n        switch (node.nodeType) {\n            case 1: // element node\n                compileAttributes(context, node);\n                break;\n            case 3: // text node\n                compileContent(context, node, walker);\n                break;\n            case 8: // comment\n                if (DOM.isMarker(node)) {\n                    context.addFactory(directives[DOM.extractDirectiveIndexFromMarker(node)]);\n                }\n        }\n    }\n    let targetOffset = 0;\n    if (\n    // If the first node in a fragment is a marker, that means it's an unstable first node,\n    // because something like a when, repeat, etc. could add nodes before the marker.\n    // To mitigate this, we insert a stable first node. However, if we insert a node,\n    // that will alter the result of the TreeWalker. So, we also need to offset the target index.\n    DOM.isMarker(fragment.firstChild) ||\n        // Or if there is only one node and a directive, it means the template's content\n        // is *only* the directive. In that case, HTMLView.dispose() misses any nodes inserted by\n        // the directive. Inserting a new node ensures proper disposal of nodes added by the directive.\n        (fragment.childNodes.length === 1 && directives.length)) {\n        fragment.insertBefore(document.createComment(\"\"), fragment.firstChild);\n        targetOffset = -1;\n    }\n    const viewBehaviorFactories = context.behaviorFactories;\n    context.release();\n    return {\n        fragment,\n        viewBehaviorFactories,\n        hostBehaviorFactories,\n        targetOffset,\n    };\n}\n", "// A singleton Range instance used to efficiently remove ranges of DOM nodes.\n// See the implementation of HTMLView below for further details.\nconst range = document.createRange();\n/**\n * The standard View implementation, which also implements ElementView and SyntheticView.\n * @public\n */\nexport class HTMLView {\n    /**\n     * Constructs an instance of HTMLView.\n     * @param fragment - The html fragment that contains the nodes for this view.\n     * @param behaviors - The behaviors to be applied to this view.\n     */\n    constructor(fragment, behaviors) {\n        this.fragment = fragment;\n        this.behaviors = behaviors;\n        /**\n         * The data that the view is bound to.\n         */\n        this.source = null;\n        /**\n         * The execution context the view is running within.\n         */\n        this.context = null;\n        this.firstChild = fragment.firstChild;\n        this.lastChild = fragment.lastChild;\n    }\n    /**\n     * Appends the view's DOM nodes to the referenced node.\n     * @param node - The parent node to append the view's DOM nodes to.\n     */\n    appendTo(node) {\n        node.appendChild(this.fragment);\n    }\n    /**\n     * Inserts the view's DOM nodes before the referenced node.\n     * @param node - The node to insert the view's DOM before.\n     */\n    insertBefore(node) {\n        if (this.fragment.hasChildNodes()) {\n            node.parentNode.insertBefore(this.fragment, node);\n        }\n        else {\n            const end = this.lastChild;\n            if (node.previousSibling === end)\n                return;\n            const parentNode = node.parentNode;\n            let current = this.firstChild;\n            let next;\n            while (current !== end) {\n                next = current.nextSibling;\n                parentNode.insertBefore(current, node);\n                current = next;\n            }\n            parentNode.insertBefore(end, node);\n        }\n    }\n    /**\n     * Removes the view's DOM nodes.\n     * The nodes are not disposed and the view can later be re-inserted.\n     */\n    remove() {\n        const fragment = this.fragment;\n        const end = this.lastChild;\n        let current = this.firstChild;\n        let next;\n        while (current !== end) {\n            next = current.nextSibling;\n            fragment.appendChild(current);\n            current = next;\n        }\n        fragment.appendChild(end);\n    }\n    /**\n     * Removes the view and unbinds its behaviors, disposing of DOM nodes afterward.\n     * Once a view has been disposed, it cannot be inserted or bound again.\n     */\n    dispose() {\n        const parent = this.firstChild.parentNode;\n        const end = this.lastChild;\n        let current = this.firstChild;\n        let next;\n        while (current !== end) {\n            next = current.nextSibling;\n            parent.removeChild(current);\n            current = next;\n        }\n        parent.removeChild(end);\n        const behaviors = this.behaviors;\n        const oldSource = this.source;\n        for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n            behaviors[i].unbind(oldSource);\n        }\n    }\n    /**\n     * Binds a view's behaviors to its binding source.\n     * @param source - The binding source for the view's binding behaviors.\n     * @param context - The execution context to run the behaviors within.\n     */\n    bind(source, context) {\n        const behaviors = this.behaviors;\n        if (this.source === source) {\n            return;\n        }\n        else if (this.source !== null) {\n            const oldSource = this.source;\n            this.source = source;\n            this.context = context;\n            for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n                const current = behaviors[i];\n                current.unbind(oldSource);\n                current.bind(source, context);\n            }\n        }\n        else {\n            this.source = source;\n            this.context = context;\n            for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n                behaviors[i].bind(source, context);\n            }\n        }\n    }\n    /**\n     * Unbinds a view's behaviors from its binding source.\n     */\n    unbind() {\n        if (this.source === null) {\n            return;\n        }\n        const behaviors = this.behaviors;\n        const oldSource = this.source;\n        for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n            behaviors[i].unbind(oldSource);\n        }\n        this.source = null;\n    }\n    /**\n     * Efficiently disposes of a contiguous range of synthetic view instances.\n     * @param views - A contiguous range of views to be disposed.\n     */\n    static disposeContiguousBatch(views) {\n        if (views.length === 0) {\n            return;\n        }\n        range.setStartBefore(views[0].firstChild);\n        range.setEndAfter(views[views.length - 1].lastChild);\n        range.deleteContents();\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            const view = views[i];\n            const behaviors = view.behaviors;\n            const oldSource = view.source;\n            for (let j = 0, jj = behaviors.length; j < jj; ++j) {\n                behaviors[j].unbind(oldSource);\n            }\n        }\n    }\n}\n", "import { DOM } from \"../dom.js\";\nimport { defaultExecutionContext } from \"../observation/observable.js\";\nimport { compileTemplate } from \"./compiler.js\";\nimport { HTMLView } from \"./view.js\";\nimport { HTMLDirective, TargetedHTMLDirective, } from \"./html-directive.js\";\nimport { HTMLBindingDirective } from \"./binding.js\";\n/**\n * A template capable of creating HTMLView instances or rendering directly to DOM.\n * @public\n */\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nexport class ViewTemplate {\n    /**\n     * Creates an instance of ViewTemplate.\n     * @param html - The html representing what this template will instantiate, including placeholders for directives.\n     * @param directives - The directives that will be connected to placeholders in the html.\n     */\n    constructor(html, directives) {\n        this.behaviorCount = 0;\n        this.hasHostBehaviors = false;\n        this.fragment = null;\n        this.targetOffset = 0;\n        this.viewBehaviorFactories = null;\n        this.hostBehaviorFactories = null;\n        this.html = html;\n        this.directives = directives;\n    }\n    /**\n     * Creates an HTMLView instance based on this template definition.\n     * @param hostBindingTarget - The element that host behaviors will be bound to.\n     */\n    create(hostBindingTarget) {\n        if (this.fragment === null) {\n            let template;\n            const html = this.html;\n            if (typeof html === \"string\") {\n                template = document.createElement(\"template\");\n                template.innerHTML = DOM.createHTML(html);\n                const fec = template.content.firstElementChild;\n                if (fec !== null && fec.tagName === \"TEMPLATE\") {\n                    template = fec;\n                }\n            }\n            else {\n                template = html;\n            }\n            const result = compileTemplate(template, this.directives);\n            this.fragment = result.fragment;\n            this.viewBehaviorFactories = result.viewBehaviorFactories;\n            this.hostBehaviorFactories = result.hostBehaviorFactories;\n            this.targetOffset = result.targetOffset;\n            this.behaviorCount =\n                this.viewBehaviorFactories.length + this.hostBehaviorFactories.length;\n            this.hasHostBehaviors = this.hostBehaviorFactories.length > 0;\n        }\n        const fragment = this.fragment.cloneNode(true);\n        const viewFactories = this.viewBehaviorFactories;\n        const behaviors = new Array(this.behaviorCount);\n        const walker = DOM.createTemplateWalker(fragment);\n        let behaviorIndex = 0;\n        let targetIndex = this.targetOffset;\n        let node = walker.nextNode();\n        for (let ii = viewFactories.length; behaviorIndex < ii; ++behaviorIndex) {\n            const factory = viewFactories[behaviorIndex];\n            const factoryIndex = factory.targetIndex;\n            while (node !== null) {\n                if (targetIndex === factoryIndex) {\n                    behaviors[behaviorIndex] = factory.createBehavior(node);\n                    break;\n                }\n                else {\n                    node = walker.nextNode();\n                    targetIndex++;\n                }\n            }\n        }\n        if (this.hasHostBehaviors) {\n            const hostFactories = this.hostBehaviorFactories;\n            for (let i = 0, ii = hostFactories.length; i < ii; ++i, ++behaviorIndex) {\n                behaviors[behaviorIndex] = hostFactories[i].createBehavior(hostBindingTarget);\n            }\n        }\n        return new HTMLView(fragment, behaviors);\n    }\n    /**\n     * Creates an HTMLView from this template, binds it to the source, and then appends it to the host.\n     * @param source - The data source to bind the template to.\n     * @param host - The Element where the template will be rendered.\n     * @param hostBindingTarget - An HTML element to target the host bindings at if different from the\n     * host that the template is being attached to.\n     */\n    render(source, host, hostBindingTarget) {\n        if (typeof host === \"string\") {\n            host = document.getElementById(host);\n        }\n        if (hostBindingTarget === void 0) {\n            hostBindingTarget = host;\n        }\n        const view = this.create(hostBindingTarget);\n        view.bind(source, defaultExecutionContext);\n        view.appendTo(host);\n        return view;\n    }\n}\n// Much thanks to LitHTML for working this out!\nconst lastAttributeNameRegex = \n/* eslint-disable-next-line no-control-regex */\n/([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n/**\n * Transforms a template literal string into a renderable ViewTemplate.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @remarks\n * The html helper supports interpolation of strings, numbers, binding expressions,\n * other template instances, and Directive instances.\n * @public\n */\nexport function html(strings, ...values) {\n    const directives = [];\n    let html = \"\";\n    for (let i = 0, ii = strings.length - 1; i < ii; ++i) {\n        const currentString = strings[i];\n        let value = values[i];\n        html += currentString;\n        if (value instanceof ViewTemplate) {\n            const template = value;\n            value = () => template;\n        }\n        if (typeof value === \"function\") {\n            value = new HTMLBindingDirective(value);\n        }\n        if (value instanceof TargetedHTMLDirective) {\n            const match = lastAttributeNameRegex.exec(currentString);\n            if (match !== null) {\n                value.targetName = match[2];\n            }\n        }\n        if (value instanceof HTMLDirective) {\n            // Since not all values are directives, we can't use i\n            // as the index for the placeholder. Instead, we need to\n            // use directives.length to get the next index.\n            html += value.createPlaceholder(directives.length);\n            directives.push(value);\n        }\n        else {\n            html += value;\n        }\n    }\n    html += strings[strings.length - 1];\n    return new ViewTemplate(html, directives);\n}\n", "import { DOM } from \"../dom.js\";\n/**\n * Represents styles that can be applied to a custom element.\n * @public\n */\nexport class ElementStyles {\n    constructor() {\n        this.targets = new WeakSet();\n    }\n    /** @internal */\n    addStylesTo(target) {\n        this.targets.add(target);\n    }\n    /** @internal */\n    removeStylesFrom(target) {\n        this.targets.delete(target);\n    }\n    /** @internal */\n    isAttachedTo(target) {\n        return this.targets.has(target);\n    }\n    /**\n     * Associates behaviors with this set of styles.\n     * @param behaviors - The behaviors to associate.\n     */\n    withBehaviors(...behaviors) {\n        this.behaviors =\n            this.behaviors === null ? behaviors : this.behaviors.concat(behaviors);\n        return this;\n    }\n}\n/**\n * Create ElementStyles from ComposableStyles.\n */\nElementStyles.create = (() => {\n    if (DOM.supportsAdoptedStyleSheets) {\n        const styleSheetCache = new Map();\n        return (styles) => \n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        new AdoptedStyleSheetsStyles(styles, styleSheetCache);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return (styles) => new StyleElementStyles(styles);\n})();\nfunction reduceStyles(styles) {\n    return styles\n        .map((x) => x instanceof ElementStyles ? reduceStyles(x.styles) : [x])\n        .reduce((prev, curr) => prev.concat(curr), []);\n}\nfunction reduceBehaviors(styles) {\n    return styles\n        .map((x) => (x instanceof ElementStyles ? x.behaviors : null))\n        .reduce((prev, curr) => {\n        if (curr === null) {\n            return prev;\n        }\n        if (prev === null) {\n            prev = [];\n        }\n        return prev.concat(curr);\n    }, null);\n}\n/**\n * A Symbol that can be added to a CSSStyleSheet to cause it to be prepended (rather than appended) to adoptedStyleSheets.\n * @public\n */\nexport const prependToAdoptedStyleSheetsSymbol = Symbol(\"prependToAdoptedStyleSheets\");\nfunction separateSheetsToPrepend(sheets) {\n    const prepend = [];\n    const append = [];\n    sheets.forEach(x => (x[prependToAdoptedStyleSheetsSymbol] ? prepend : append).push(x));\n    return { prepend, append };\n}\nlet addAdoptedStyleSheets = (target, sheets) => {\n    const { prepend, append } = separateSheetsToPrepend(sheets);\n    target.adoptedStyleSheets = [...prepend, ...target.adoptedStyleSheets, ...append];\n};\nlet removeAdoptedStyleSheets = (target, sheets) => {\n    target.adoptedStyleSheets = target.adoptedStyleSheets.filter((x) => sheets.indexOf(x) === -1);\n};\nif (DOM.supportsAdoptedStyleSheets) {\n    try {\n        // Test if browser implementation uses FrozenArray.\n        // If not, use push / splice to alter the stylesheets\n        // in place. This circumvents a bug in Safari 16.4 where\n        // periodically, assigning the array would previously\n        // cause sheets to be removed.\n        document.adoptedStyleSheets.push();\n        document.adoptedStyleSheets.splice();\n        addAdoptedStyleSheets = (target, sheets) => {\n            const { prepend, append } = separateSheetsToPrepend(sheets);\n            target.adoptedStyleSheets.splice(0, 0, ...prepend);\n            target.adoptedStyleSheets.push(...append);\n        };\n        removeAdoptedStyleSheets = (target, sheets) => {\n            for (const sheet of sheets) {\n                const index = target.adoptedStyleSheets.indexOf(sheet);\n                if (index !== -1) {\n                    target.adoptedStyleSheets.splice(index, 1);\n                }\n            }\n        };\n    }\n    catch (e) {\n        // Do nothing if an error is thrown, the default\n        // case handles FrozenArray.\n    }\n}\n/**\n * https://wicg.github.io/construct-stylesheets/\n * https://developers.google.com/web/updates/2019/02/constructable-stylesheets\n *\n * @internal\n */\nexport class AdoptedStyleSheetsStyles extends ElementStyles {\n    constructor(styles, styleSheetCache) {\n        super();\n        this.styles = styles;\n        this.styleSheetCache = styleSheetCache;\n        this._styleSheets = void 0;\n        this.behaviors = reduceBehaviors(styles);\n    }\n    get styleSheets() {\n        if (this._styleSheets === void 0) {\n            const styles = this.styles;\n            const styleSheetCache = this.styleSheetCache;\n            this._styleSheets = reduceStyles(styles).map((x) => {\n                if (x instanceof CSSStyleSheet) {\n                    return x;\n                }\n                let sheet = styleSheetCache.get(x);\n                if (sheet === void 0) {\n                    sheet = new CSSStyleSheet();\n                    sheet.replaceSync(x);\n                    styleSheetCache.set(x, sheet);\n                }\n                return sheet;\n            });\n        }\n        return this._styleSheets;\n    }\n    addStylesTo(target) {\n        addAdoptedStyleSheets(target, this.styleSheets);\n        super.addStylesTo(target);\n    }\n    removeStylesFrom(target) {\n        removeAdoptedStyleSheets(target, this.styleSheets);\n        super.removeStylesFrom(target);\n    }\n}\nlet styleClassId = 0;\nfunction getNextStyleClass() {\n    return `fast-style-class-${++styleClassId}`;\n}\n/**\n * @internal\n */\nexport class StyleElementStyles extends ElementStyles {\n    constructor(styles) {\n        super();\n        this.styles = styles;\n        this.behaviors = null;\n        this.behaviors = reduceBehaviors(styles);\n        this.styleSheets = reduceStyles(styles);\n        this.styleClass = getNextStyleClass();\n    }\n    addStylesTo(target) {\n        const styleSheets = this.styleSheets;\n        const styleClass = this.styleClass;\n        target = this.normalizeTarget(target);\n        for (let i = 0; i < styleSheets.length; i++) {\n            const element = document.createElement(\"style\");\n            element.innerHTML = styleSheets[i];\n            element.className = styleClass;\n            target.append(element);\n        }\n        super.addStylesTo(target);\n    }\n    removeStylesFrom(target) {\n        target = this.normalizeTarget(target);\n        const styles = target.querySelectorAll(`.${this.styleClass}`);\n        for (let i = 0, ii = styles.length; i < ii; ++i) {\n            target.removeChild(styles[i]);\n        }\n        super.removeStylesFrom(target);\n    }\n    isAttachedTo(target) {\n        return super.isAttachedTo(this.normalizeTarget(target));\n    }\n    normalizeTarget(target) {\n        return target === document ? document.body : target;\n    }\n}\n", "import { Observable } from \"../observation/observable.js\";\nimport { DOM } from \"../dom.js\";\nimport { createMetadataLocator } from \"../platform.js\";\n/**\n * Metadata used to configure a custom attribute's behavior.\n * @public\n */\nexport const AttributeConfiguration = Object.freeze({\n    /**\n     * Locates all attribute configurations associated with a type.\n     */\n    locate: createMetadataLocator(),\n});\n/**\n * A {@link ValueConverter} that converts to and from `boolean` values.\n * @remarks\n * Used automatically when the `boolean` {@link AttributeMode} is selected.\n * @public\n */\nexport const booleanConverter = {\n    toView(value) {\n        return value ? \"true\" : \"false\";\n    },\n    fromView(value) {\n        if (value === null ||\n            value === void 0 ||\n            value === \"false\" ||\n            value === false ||\n            value === 0) {\n            return false;\n        }\n        return true;\n    },\n};\n/**\n * A {@link ValueConverter} that converts to and from `number` values.\n * @remarks\n * This converter allows for nullable numbers, returning `null` if the\n * input was `null`, `undefined`, or `NaN`.\n * @public\n */\nexport const nullableNumberConverter = {\n    toView(value) {\n        if (value === null || value === undefined) {\n            return null;\n        }\n        const number = value * 1;\n        return isNaN(number) ? null : number.toString();\n    },\n    fromView(value) {\n        if (value === null || value === undefined) {\n            return null;\n        }\n        const number = value * 1;\n        return isNaN(number) ? null : number;\n    },\n};\n/**\n * An implementation of {@link Accessor} that supports reactivity,\n * change callbacks, attribute reflection, and type conversion for\n * custom elements.\n * @public\n */\nexport class AttributeDefinition {\n    /**\n     * Creates an instance of AttributeDefinition.\n     * @param Owner - The class constructor that owns this attribute.\n     * @param name - The name of the property associated with the attribute.\n     * @param attribute - The name of the attribute in HTML.\n     * @param mode - The {@link AttributeMode} that describes the behavior of this attribute.\n     * @param converter - A {@link ValueConverter} that integrates with the property getter/setter\n     * to convert values to and from a DOM string.\n     */\n    constructor(Owner, name, attribute = name.toLowerCase(), mode = \"reflect\", converter) {\n        this.guards = new Set();\n        this.Owner = Owner;\n        this.name = name;\n        this.attribute = attribute;\n        this.mode = mode;\n        this.converter = converter;\n        this.fieldName = `_${name}`;\n        this.callbackName = `${name}Changed`;\n        this.hasCallback = this.callbackName in Owner.prototype;\n        if (mode === \"boolean\" && converter === void 0) {\n            this.converter = booleanConverter;\n        }\n    }\n    /**\n     * Sets the value of the attribute/property on the source element.\n     * @param source - The source element to access.\n     * @param value - The value to set the attribute/property to.\n     */\n    setValue(source, newValue) {\n        const oldValue = source[this.fieldName];\n        const converter = this.converter;\n        if (converter !== void 0) {\n            newValue = converter.fromView(newValue);\n        }\n        if (oldValue !== newValue) {\n            source[this.fieldName] = newValue;\n            this.tryReflectToAttribute(source);\n            if (this.hasCallback) {\n                source[this.callbackName](oldValue, newValue);\n            }\n            source.$fastController.notify(this.name);\n        }\n    }\n    /**\n     * Gets the value of the attribute/property on the source element.\n     * @param source - The source element to access.\n     */\n    getValue(source) {\n        Observable.track(source, this.name);\n        return source[this.fieldName];\n    }\n    /** @internal */\n    onAttributeChangedCallback(element, value) {\n        if (this.guards.has(element)) {\n            return;\n        }\n        this.guards.add(element);\n        this.setValue(element, value);\n        this.guards.delete(element);\n    }\n    tryReflectToAttribute(element) {\n        const mode = this.mode;\n        const guards = this.guards;\n        if (guards.has(element) || mode === \"fromView\") {\n            return;\n        }\n        DOM.queueUpdate(() => {\n            guards.add(element);\n            const latestValue = element[this.fieldName];\n            switch (mode) {\n                case \"reflect\":\n                    const converter = this.converter;\n                    DOM.setAttribute(element, this.attribute, converter !== void 0 ? converter.toView(latestValue) : latestValue);\n                    break;\n                case \"boolean\":\n                    DOM.setBooleanAttribute(element, this.attribute, latestValue);\n                    break;\n            }\n            guards.delete(element);\n        });\n    }\n    /**\n     * Collects all attribute definitions associated with the owner.\n     * @param Owner - The class constructor to collect attribute for.\n     * @param attributeLists - Any existing attributes to collect and merge with those associated with the owner.\n     * @internal\n     */\n    static collect(Owner, ...attributeLists) {\n        const attributes = [];\n        attributeLists.push(AttributeConfiguration.locate(Owner));\n        for (let i = 0, ii = attributeLists.length; i < ii; ++i) {\n            const list = attributeLists[i];\n            if (list === void 0) {\n                continue;\n            }\n            for (let j = 0, jj = list.length; j < jj; ++j) {\n                const config = list[j];\n                if (typeof config === \"string\") {\n                    attributes.push(new AttributeDefinition(Owner, config));\n                }\n                else {\n                    attributes.push(new AttributeDefinition(Owner, config.property, config.attribute, config.mode, config.converter));\n                }\n            }\n        }\n        return attributes;\n    }\n}\nexport function attr(configOrTarget, prop) {\n    let config;\n    function decorator($target, $prop) {\n        if (arguments.length > 1) {\n            // Non invocation:\n            // - @attr\n            // Invocation with or w/o opts:\n            // - @attr()\n            // - @attr({...opts})\n            config.property = $prop;\n        }\n        AttributeConfiguration.locate($target.constructor).push(config);\n    }\n    if (arguments.length > 1) {\n        // Non invocation:\n        // - @attr\n        config = {};\n        decorator(configOrTarget, prop);\n        return;\n    }\n    // Invocation with or w/o opts:\n    // - @attr()\n    // - @attr({...opts})\n    config = configOrTarget === void 0 ? {} : configOrTarget;\n    return decorator;\n}\n", "import { FAST } from \"../platform.js\";\nimport { Observable } from \"../observation/observable.js\";\nimport { ElementStyles } from \"../styles/element-styles.js\";\nimport { AttributeDefinition } from \"./attributes.js\";\nconst defaultShadowOptions = { mode: \"open\" };\nconst defaultElementOptions = {};\nconst fastRegistry = FAST.getById(4 /* elementRegistry */, () => {\n    const typeToDefinition = new Map();\n    return Object.freeze({\n        register(definition) {\n            if (typeToDefinition.has(definition.type)) {\n                return false;\n            }\n            typeToDefinition.set(definition.type, definition);\n            return true;\n        },\n        getByType(key) {\n            return typeToDefinition.get(key);\n        },\n    });\n});\n/**\n * Defines metadata for a FASTElement.\n * @public\n */\nexport class FASTElementDefinition {\n    /**\n     * Creates an instance of FASTElementDefinition.\n     * @param type - The type this definition is being created for.\n     * @param nameOrConfig - The name of the element to define or a config object\n     * that describes the element to define.\n     */\n    constructor(type, nameOrConfig = type.definition) {\n        if (typeof nameOrConfig === \"string\") {\n            nameOrConfig = { name: nameOrConfig };\n        }\n        this.type = type;\n        this.name = nameOrConfig.name;\n        this.template = nameOrConfig.template;\n        const attributes = AttributeDefinition.collect(type, nameOrConfig.attributes);\n        const observedAttributes = new Array(attributes.length);\n        const propertyLookup = {};\n        const attributeLookup = {};\n        for (let i = 0, ii = attributes.length; i < ii; ++i) {\n            const current = attributes[i];\n            observedAttributes[i] = current.attribute;\n            propertyLookup[current.name] = current;\n            attributeLookup[current.attribute] = current;\n        }\n        this.attributes = attributes;\n        this.observedAttributes = observedAttributes;\n        this.propertyLookup = propertyLookup;\n        this.attributeLookup = attributeLookup;\n        this.shadowOptions =\n            nameOrConfig.shadowOptions === void 0\n                ? defaultShadowOptions\n                : nameOrConfig.shadowOptions === null\n                    ? void 0\n                    : Object.assign(Object.assign({}, defaultShadowOptions), nameOrConfig.shadowOptions);\n        this.elementOptions =\n            nameOrConfig.elementOptions === void 0\n                ? defaultElementOptions\n                : Object.assign(Object.assign({}, defaultElementOptions), nameOrConfig.elementOptions);\n        this.styles =\n            nameOrConfig.styles === void 0\n                ? void 0\n                : Array.isArray(nameOrConfig.styles)\n                    ? ElementStyles.create(nameOrConfig.styles)\n                    : nameOrConfig.styles instanceof ElementStyles\n                        ? nameOrConfig.styles\n                        : ElementStyles.create([nameOrConfig.styles]);\n    }\n    /**\n     * Indicates if this element has been defined in at least one registry.\n     */\n    get isDefined() {\n        return !!fastRegistry.getByType(this.type);\n    }\n    /**\n     * Defines a custom element based on this definition.\n     * @param registry - The element registry to define the element in.\n     */\n    define(registry = customElements) {\n        const type = this.type;\n        if (fastRegistry.register(this)) {\n            const attributes = this.attributes;\n            const proto = type.prototype;\n            for (let i = 0, ii = attributes.length; i < ii; ++i) {\n                Observable.defineProperty(proto, attributes[i]);\n            }\n            Reflect.defineProperty(type, \"observedAttributes\", {\n                value: this.observedAttributes,\n                enumerable: true,\n            });\n        }\n        if (!registry.get(this.name)) {\n            registry.define(this.name, type, this.elementOptions);\n        }\n        return this;\n    }\n}\n/**\n * Gets the element definition associated with the specified type.\n * @param type - The custom element type to retrieve the definition for.\n */\nFASTElementDefinition.forType = fastRegistry.getByType;\n", "import { DOM } from \"../dom.js\";\nimport { PropertyChangeNotifier } from \"../observation/notifier.js\";\nimport { defaultExecutionContext, Observable } from \"../observation/observable.js\";\nimport { FASTElementDefinition } from \"./fast-definitions.js\";\nconst shadowRoots = new WeakMap();\nconst defaultEventOptions = {\n    bubbles: true,\n    composed: true,\n    cancelable: true,\n};\nfunction getShadowRoot(element) {\n    return element.shadowRoot || shadowRoots.get(element) || null;\n}\n/**\n * Controls the lifecycle and rendering of a `FASTElement`.\n * @public\n */\nexport class Controller extends PropertyChangeNotifier {\n    /**\n     * Creates a Controller to control the specified element.\n     * @param element - The element to be controlled by this controller.\n     * @param definition - The element definition metadata that instructs this\n     * controller in how to handle rendering and other platform integrations.\n     * @internal\n     */\n    constructor(element, definition) {\n        super(element);\n        this.boundObservables = null;\n        this.behaviors = null;\n        this.needsInitialization = true;\n        this._template = null;\n        this._styles = null;\n        this._isConnected = false;\n        /**\n         * This allows Observable.getNotifier(...) to return the Controller\n         * when the notifier for the Controller itself is being requested. The\n         * result is that the Observable system does not need to create a separate\n         * instance of Notifier for observables on the Controller. The component and\n         * the controller will now share the same notifier, removing one-object construct\n         * per web component instance.\n         */\n        this.$fastController = this;\n        /**\n         * The view associated with the custom element.\n         * @remarks\n         * If `null` then the element is managing its own rendering.\n         */\n        this.view = null;\n        this.element = element;\n        this.definition = definition;\n        const shadowOptions = definition.shadowOptions;\n        if (shadowOptions !== void 0) {\n            const shadowRoot = element.attachShadow(shadowOptions);\n            if (shadowOptions.mode === \"closed\") {\n                shadowRoots.set(element, shadowRoot);\n            }\n        }\n        // Capture any observable values that were set by the binding engine before\n        // the browser upgraded the element. Then delete the property since it will\n        // shadow the getter/setter that is required to make the observable operate.\n        // Later, in the connect callback, we'll re-apply the values.\n        const accessors = Observable.getAccessors(element);\n        if (accessors.length > 0) {\n            const boundObservables = (this.boundObservables = Object.create(null));\n            for (let i = 0, ii = accessors.length; i < ii; ++i) {\n                const propertyName = accessors[i].name;\n                const value = element[propertyName];\n                if (value !== void 0) {\n                    delete element[propertyName];\n                    boundObservables[propertyName] = value;\n                }\n            }\n        }\n    }\n    /**\n     * Indicates whether or not the custom element has been\n     * connected to the document.\n     */\n    get isConnected() {\n        Observable.track(this, \"isConnected\");\n        return this._isConnected;\n    }\n    setIsConnected(value) {\n        this._isConnected = value;\n        Observable.notify(this, \"isConnected\");\n    }\n    /**\n     * Gets/sets the template used to render the component.\n     * @remarks\n     * This value can only be accurately read after connect but can be set at any time.\n     */\n    get template() {\n        return this._template;\n    }\n    set template(value) {\n        if (this._template === value) {\n            return;\n        }\n        this._template = value;\n        if (!this.needsInitialization) {\n            this.renderTemplate(value);\n        }\n    }\n    /**\n     * Gets/sets the primary styles used for the component.\n     * @remarks\n     * This value can only be accurately read after connect but can be set at any time.\n     */\n    get styles() {\n        return this._styles;\n    }\n    set styles(value) {\n        if (this._styles === value) {\n            return;\n        }\n        if (this._styles !== null) {\n            this.removeStyles(this._styles);\n        }\n        this._styles = value;\n        if (!this.needsInitialization && value !== null) {\n            this.addStyles(value);\n        }\n    }\n    /**\n     * Adds styles to this element. Providing an HTMLStyleElement will attach the element instance to the shadowRoot.\n     * @param styles - The styles to add.\n     */\n    addStyles(styles) {\n        const target = getShadowRoot(this.element) ||\n            this.element.getRootNode();\n        if (styles instanceof HTMLStyleElement) {\n            target.append(styles);\n        }\n        else if (!styles.isAttachedTo(target)) {\n            const sourceBehaviors = styles.behaviors;\n            styles.addStylesTo(target);\n            if (sourceBehaviors !== null) {\n                this.addBehaviors(sourceBehaviors);\n            }\n        }\n    }\n    /**\n     * Removes styles from this element. Providing an HTMLStyleElement will detach the element instance from the shadowRoot.\n     * @param styles - the styles to remove.\n     */\n    removeStyles(styles) {\n        const target = getShadowRoot(this.element) ||\n            this.element.getRootNode();\n        if (styles instanceof HTMLStyleElement) {\n            target.removeChild(styles);\n        }\n        else if (styles.isAttachedTo(target)) {\n            const sourceBehaviors = styles.behaviors;\n            styles.removeStylesFrom(target);\n            if (sourceBehaviors !== null) {\n                this.removeBehaviors(sourceBehaviors);\n            }\n        }\n    }\n    /**\n     * Adds behaviors to this element.\n     * @param behaviors - The behaviors to add.\n     */\n    addBehaviors(behaviors) {\n        const targetBehaviors = this.behaviors || (this.behaviors = new Map());\n        const length = behaviors.length;\n        const behaviorsToBind = [];\n        for (let i = 0; i < length; ++i) {\n            const behavior = behaviors[i];\n            if (targetBehaviors.has(behavior)) {\n                targetBehaviors.set(behavior, targetBehaviors.get(behavior) + 1);\n            }\n            else {\n                targetBehaviors.set(behavior, 1);\n                behaviorsToBind.push(behavior);\n            }\n        }\n        if (this._isConnected) {\n            const element = this.element;\n            for (let i = 0; i < behaviorsToBind.length; ++i) {\n                behaviorsToBind[i].bind(element, defaultExecutionContext);\n            }\n        }\n    }\n    /**\n     * Removes behaviors from this element.\n     * @param behaviors - The behaviors to remove.\n     * @param force - Forces unbinding of behaviors.\n     */\n    removeBehaviors(behaviors, force = false) {\n        const targetBehaviors = this.behaviors;\n        if (targetBehaviors === null) {\n            return;\n        }\n        const length = behaviors.length;\n        const behaviorsToUnbind = [];\n        for (let i = 0; i < length; ++i) {\n            const behavior = behaviors[i];\n            if (targetBehaviors.has(behavior)) {\n                const count = targetBehaviors.get(behavior) - 1;\n                count === 0 || force\n                    ? targetBehaviors.delete(behavior) && behaviorsToUnbind.push(behavior)\n                    : targetBehaviors.set(behavior, count);\n            }\n        }\n        if (this._isConnected) {\n            const element = this.element;\n            for (let i = 0; i < behaviorsToUnbind.length; ++i) {\n                behaviorsToUnbind[i].unbind(element);\n            }\n        }\n    }\n    /**\n     * Runs connected lifecycle behavior on the associated element.\n     */\n    onConnectedCallback() {\n        if (this._isConnected) {\n            return;\n        }\n        const element = this.element;\n        if (this.needsInitialization) {\n            this.finishInitialization();\n        }\n        else if (this.view !== null) {\n            this.view.bind(element, defaultExecutionContext);\n        }\n        const behaviors = this.behaviors;\n        if (behaviors !== null) {\n            for (const [behavior] of behaviors) {\n                behavior.bind(element, defaultExecutionContext);\n            }\n        }\n        this.setIsConnected(true);\n    }\n    /**\n     * Runs disconnected lifecycle behavior on the associated element.\n     */\n    onDisconnectedCallback() {\n        if (!this._isConnected) {\n            return;\n        }\n        this.setIsConnected(false);\n        const view = this.view;\n        if (view !== null) {\n            view.unbind();\n        }\n        const behaviors = this.behaviors;\n        if (behaviors !== null) {\n            const element = this.element;\n            for (const [behavior] of behaviors) {\n                behavior.unbind(element);\n            }\n        }\n    }\n    /**\n     * Runs the attribute changed callback for the associated element.\n     * @param name - The name of the attribute that changed.\n     * @param oldValue - The previous value of the attribute.\n     * @param newValue - The new value of the attribute.\n     */\n    onAttributeChangedCallback(name, oldValue, newValue) {\n        const attrDef = this.definition.attributeLookup[name];\n        if (attrDef !== void 0) {\n            attrDef.onAttributeChangedCallback(this.element, newValue);\n        }\n    }\n    /**\n     * Emits a custom HTML event.\n     * @param type - The type name of the event.\n     * @param detail - The event detail object to send with the event.\n     * @param options - The event options. By default bubbles and composed.\n     * @remarks\n     * Only emits events if connected.\n     */\n    emit(type, detail, options) {\n        if (this._isConnected) {\n            return this.element.dispatchEvent(new CustomEvent(type, Object.assign(Object.assign({ detail }, defaultEventOptions), options)));\n        }\n        return false;\n    }\n    finishInitialization() {\n        const element = this.element;\n        const boundObservables = this.boundObservables;\n        // If we have any observables that were bound, re-apply their values.\n        if (boundObservables !== null) {\n            const propertyNames = Object.keys(boundObservables);\n            for (let i = 0, ii = propertyNames.length; i < ii; ++i) {\n                const propertyName = propertyNames[i];\n                element[propertyName] = boundObservables[propertyName];\n            }\n            this.boundObservables = null;\n        }\n        const definition = this.definition;\n        // 1. Template overrides take top precedence.\n        if (this._template === null) {\n            if (this.element.resolveTemplate) {\n                // 2. Allow for element instance overrides next.\n                this._template = this.element.resolveTemplate();\n            }\n            else if (definition.template) {\n                // 3. Default to the static definition.\n                this._template = definition.template || null;\n            }\n        }\n        // If we have a template after the above process, render it.\n        // If there's no template, then the element author has opted into\n        // custom rendering and they will managed the shadow root's content themselves.\n        if (this._template !== null) {\n            this.renderTemplate(this._template);\n        }\n        // 1. Styles overrides take top precedence.\n        if (this._styles === null) {\n            if (this.element.resolveStyles) {\n                // 2. Allow for element instance overrides next.\n                this._styles = this.element.resolveStyles();\n            }\n            else if (definition.styles) {\n                // 3. Default to the static definition.\n                this._styles = definition.styles || null;\n            }\n        }\n        // If we have styles after the above process, add them.\n        if (this._styles !== null) {\n            this.addStyles(this._styles);\n        }\n        this.needsInitialization = false;\n    }\n    renderTemplate(template) {\n        const element = this.element;\n        // When getting the host to render to, we start by looking\n        // up the shadow root. If there isn't one, then that means\n        // we're doing a Light DOM render to the element's direct children.\n        const host = getShadowRoot(element) || element;\n        if (this.view !== null) {\n            // If there's already a view, we need to unbind and remove through dispose.\n            this.view.dispose();\n            this.view = null;\n        }\n        else if (!this.needsInitialization) {\n            // If there was previous custom rendering, we need to clear out the host.\n            DOM.removeChildNodes(host);\n        }\n        if (template) {\n            // If a new template was provided, render it.\n            this.view = template.render(element, host, element);\n        }\n    }\n    /**\n     * Locates or creates a controller for the specified element.\n     * @param element - The element to return the controller for.\n     * @remarks\n     * The specified element must have a {@link FASTElementDefinition}\n     * registered either through the use of the {@link customElement}\n     * decorator or a call to `FASTElement.define`.\n     */\n    static forCustomElement(element) {\n        const controller = element.$fastController;\n        if (controller !== void 0) {\n            return controller;\n        }\n        const definition = FASTElementDefinition.forType(element.constructor);\n        if (definition === void 0) {\n            throw new Error(\"Missing FASTElement definition.\");\n        }\n        return (element.$fastController = new Controller(element, definition));\n    }\n}\n", "import { Controller } from \"./controller.js\";\nimport { FASTElementDefinition, } from \"./fast-definitions.js\";\n/* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */\nfunction createFASTElement(BaseType) {\n    return class extends BaseType {\n        constructor() {\n            /* eslint-disable-next-line */\n            super();\n            Controller.forCustomElement(this);\n        }\n        $emit(type, detail, options) {\n            return this.$fastController.emit(type, detail, options);\n        }\n        connectedCallback() {\n            this.$fastController.onConnectedCallback();\n        }\n        disconnectedCallback() {\n            this.$fastController.onDisconnectedCallback();\n        }\n        attributeChangedCallback(name, oldValue, newValue) {\n            this.$fastController.onAttributeChangedCallback(name, oldValue, newValue);\n        }\n    };\n}\n/**\n * A minimal base class for FASTElements that also provides\n * static helpers for working with FASTElements.\n * @public\n */\nexport const FASTElement = Object.assign(createFASTElement(HTMLElement), {\n    /**\n     * Creates a new FASTElement base class inherited from the\n     * provided base type.\n     * @param BaseType - The base element type to inherit from.\n     */\n    from(BaseType) {\n        return createFASTElement(BaseType);\n    },\n    /**\n     * Defines a platform custom element based on the provided type and definition.\n     * @param type - The custom element type to define.\n     * @param nameOrDef - The name of the element to define or a definition object\n     * that describes the element to define.\n     */\n    define(type, nameOrDef) {\n        return new FASTElementDefinition(type, nameOrDef).define().type;\n    },\n});\n/**\n * Decorator: Defines a platform custom element based on `FASTElement`.\n * @param nameOrDef - The name of the element to define or a definition object\n * that describes the element to define.\n * @public\n */\nexport function customElement(nameOrDef) {\n    /* eslint-disable-next-line @typescript-eslint/explicit-function-return-type */\n    return function (type) {\n        new FASTElementDefinition(type, nameOrDef).define();\n    };\n}\n", "/**\n * Directive for use in {@link css}.\n *\n * @public\n */\nexport class CSSDirective {\n    /**\n     * Creates a CSS fragment to interpolate into the CSS document.\n     * @returns - the string to interpolate into CSS\n     */\n    createCSS() {\n        return \"\";\n    }\n    /**\n     * Creates a behavior to bind to the host element.\n     * @returns - the behavior to bind to the host element, or undefined.\n     */\n    createBehavior() {\n        return undefined;\n    }\n}\n", "import { CSSDirective } from \"./css-directive.js\";\nimport { ElementStyles } from \"./element-styles.js\";\nfunction collectStyles(strings, values) {\n    const styles = [];\n    let cssString = \"\";\n    const behaviors = [];\n    for (let i = 0, ii = strings.length - 1; i < ii; ++i) {\n        cssString += strings[i];\n        let value = values[i];\n        if (value instanceof CSSDirective) {\n            const behavior = value.createBehavior();\n            value = value.createCSS();\n            if (behavior) {\n                behaviors.push(behavior);\n            }\n        }\n        if (value instanceof ElementStyles || value instanceof CSSStyleSheet) {\n            if (cssString.trim() !== \"\") {\n                styles.push(cssString);\n                cssString = \"\";\n            }\n            styles.push(value);\n        }\n        else {\n            cssString += value;\n        }\n    }\n    cssString += strings[strings.length - 1];\n    if (cssString.trim() !== \"\") {\n        styles.push(cssString);\n    }\n    return {\n        styles,\n        behaviors,\n    };\n}\n/**\n * Transforms a template literal string into styles.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @remarks\n * The css helper supports interpolation of strings and ElementStyle instances.\n * @public\n */\nexport function css(strings, ...values) {\n    const { styles, behaviors } = collectStyles(strings, values);\n    const elementStyles = ElementStyles.create(styles);\n    if (behaviors.length) {\n        elementStyles.withBehaviors(...behaviors);\n    }\n    return elementStyles;\n}\nclass CSSPartial extends CSSDirective {\n    constructor(styles, behaviors) {\n        super();\n        this.behaviors = behaviors;\n        this.css = \"\";\n        const stylesheets = styles.reduce((accumulated, current) => {\n            if (typeof current === \"string\") {\n                this.css += current;\n            }\n            else {\n                accumulated.push(current);\n            }\n            return accumulated;\n        }, []);\n        if (stylesheets.length) {\n            this.styles = ElementStyles.create(stylesheets);\n        }\n    }\n    createBehavior() {\n        return this;\n    }\n    createCSS() {\n        return this.css;\n    }\n    bind(el) {\n        if (this.styles) {\n            el.$fastController.addStyles(this.styles);\n        }\n        if (this.behaviors.length) {\n            el.$fastController.addBehaviors(this.behaviors);\n        }\n    }\n    unbind(el) {\n        if (this.styles) {\n            el.$fastController.removeStyles(this.styles);\n        }\n        if (this.behaviors.length) {\n            el.$fastController.removeBehaviors(this.behaviors);\n        }\n    }\n}\n/**\n * Transforms a template literal string into partial CSS.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @public\n */\nexport function cssPartial(strings, ...values) {\n    const { styles, behaviors } = collectStyles(strings, values);\n    return new CSSPartial(styles, behaviors);\n}\n", "import { emptyArray } from \"../platform.js\";\n/** @internal */\nexport function newSplice(index, removed, addedCount) {\n    return {\n        index: index,\n        removed: removed,\n        addedCount: addedCount,\n    };\n}\nconst EDIT_LEAVE = 0;\nconst EDIT_UPDATE = 1;\nconst EDIT_ADD = 2;\nconst EDIT_DELETE = 3;\n// Note: This function is *based* on the computation of the Levenshtein\n// \"edit\" distance. The one change is that \"updates\" are treated as two\n// edits - not one. With Array splices, an update is really a delete\n// followed by an add. By retaining this, we optimize for \"keeping\" the\n// maximum array items in the original array. For example:\n//\n//   'xxxx123' -> '123yyyy'\n//\n// With 1-edit updates, the shortest path would be just to update all seven\n// characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n// leaves the substring '123' intact.\nfunction calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    // \"Deletion\" columns\n    const rowCount = oldEnd - oldStart + 1;\n    const columnCount = currentEnd - currentStart + 1;\n    const distances = new Array(rowCount);\n    let north;\n    let west;\n    // \"Addition\" rows. Initialize null column.\n    for (let i = 0; i < rowCount; ++i) {\n        distances[i] = new Array(columnCount);\n        distances[i][0] = i;\n    }\n    // Initialize null row\n    for (let j = 0; j < columnCount; ++j) {\n        distances[0][j] = j;\n    }\n    for (let i = 1; i < rowCount; ++i) {\n        for (let j = 1; j < columnCount; ++j) {\n            if (current[currentStart + j - 1] === old[oldStart + i - 1]) {\n                distances[i][j] = distances[i - 1][j - 1];\n            }\n            else {\n                north = distances[i - 1][j] + 1;\n                west = distances[i][j - 1] + 1;\n                distances[i][j] = north < west ? north : west;\n            }\n        }\n    }\n    return distances;\n}\n// This starts at the final weight, and walks \"backward\" by finding\n// the minimum previous weight recursively until the origin of the weight\n// matrix.\nfunction spliceOperationsFromEditDistances(distances) {\n    let i = distances.length - 1;\n    let j = distances[0].length - 1;\n    let current = distances[i][j];\n    const edits = [];\n    while (i > 0 || j > 0) {\n        if (i === 0) {\n            edits.push(EDIT_ADD);\n            j--;\n            continue;\n        }\n        if (j === 0) {\n            edits.push(EDIT_DELETE);\n            i--;\n            continue;\n        }\n        const northWest = distances[i - 1][j - 1];\n        const west = distances[i - 1][j];\n        const north = distances[i][j - 1];\n        let min;\n        if (west < north) {\n            min = west < northWest ? west : northWest;\n        }\n        else {\n            min = north < northWest ? north : northWest;\n        }\n        if (min === northWest) {\n            if (northWest === current) {\n                edits.push(EDIT_LEAVE);\n            }\n            else {\n                edits.push(EDIT_UPDATE);\n                current = northWest;\n            }\n            i--;\n            j--;\n        }\n        else if (min === west) {\n            edits.push(EDIT_DELETE);\n            i--;\n            current = west;\n        }\n        else {\n            edits.push(EDIT_ADD);\n            j--;\n            current = north;\n        }\n    }\n    edits.reverse();\n    return edits;\n}\nfunction sharedPrefix(current, old, searchLength) {\n    for (let i = 0; i < searchLength; ++i) {\n        if (current[i] !== old[i]) {\n            return i;\n        }\n    }\n    return searchLength;\n}\nfunction sharedSuffix(current, old, searchLength) {\n    let index1 = current.length;\n    let index2 = old.length;\n    let count = 0;\n    while (count < searchLength && current[--index1] === old[--index2]) {\n        count++;\n    }\n    return count;\n}\nfunction intersect(start1, end1, start2, end2) {\n    // Disjoint\n    if (end1 < start2 || end2 < start1) {\n        return -1;\n    }\n    // Adjacent\n    if (end1 === start2 || end2 === start1) {\n        return 0;\n    }\n    // Non-zero intersect, span1 first\n    if (start1 < start2) {\n        if (end1 < end2) {\n            return end1 - start2; // Overlap\n        }\n        return end2 - start2; // Contained\n    }\n    // Non-zero intersect, span2 first\n    if (end2 < end1) {\n        return end2 - start1; // Overlap\n    }\n    return end1 - start1; // Contained\n}\n/**\n * Splice Projection functions:\n *\n * A splice map is a representation of how a previous array of items\n * was transformed into a new array of items. Conceptually it is a list of\n * tuples of\n *\n *   <index, removed, addedCount>\n *\n * which are kept in ascending index order of. The tuple represents that at\n * the |index|, |removed| sequence of items were removed, and counting forward\n * from |index|, |addedCount| items were added.\n */\n/**\n * @internal\n * @remarks\n * Lacking individual splice mutation information, the minimal set of\n * splices can be synthesized given the previous state and final state of an\n * array. The basic approach is to calculate the edit distance matrix and\n * choose the shortest path through it.\n *\n * Complexity: O(l * p)\n *   l: The length of the current array\n *   p: The length of the old array\n */\nexport function calcSplices(current, currentStart, currentEnd, old, oldStart, oldEnd) {\n    let prefixCount = 0;\n    let suffixCount = 0;\n    const minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart === 0 && oldStart === 0) {\n        prefixCount = sharedPrefix(current, old, minLength);\n    }\n    if (currentEnd === current.length && oldEnd === old.length) {\n        suffixCount = sharedSuffix(current, old, minLength - prefixCount);\n    }\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n    if (currentEnd - currentStart === 0 && oldEnd - oldStart === 0) {\n        return emptyArray;\n    }\n    if (currentStart === currentEnd) {\n        const splice = newSplice(currentStart, [], 0);\n        while (oldStart < oldEnd) {\n            splice.removed.push(old[oldStart++]);\n        }\n        return [splice];\n    }\n    else if (oldStart === oldEnd) {\n        return [newSplice(currentStart, [], currentEnd - currentStart)];\n    }\n    const ops = spliceOperationsFromEditDistances(calcEditDistances(current, currentStart, currentEnd, old, oldStart, oldEnd));\n    const splices = [];\n    let splice = void 0;\n    let index = currentStart;\n    let oldIndex = oldStart;\n    for (let i = 0; i < ops.length; ++i) {\n        switch (ops[i]) {\n            case EDIT_LEAVE:\n                if (splice !== void 0) {\n                    splices.push(splice);\n                    splice = void 0;\n                }\n                index++;\n                oldIndex++;\n                break;\n            case EDIT_UPDATE:\n                if (splice === void 0) {\n                    splice = newSplice(index, [], 0);\n                }\n                splice.addedCount++;\n                index++;\n                splice.removed.push(old[oldIndex]);\n                oldIndex++;\n                break;\n            case EDIT_ADD:\n                if (splice === void 0) {\n                    splice = newSplice(index, [], 0);\n                }\n                splice.addedCount++;\n                index++;\n                break;\n            case EDIT_DELETE:\n                if (splice === void 0) {\n                    splice = newSplice(index, [], 0);\n                }\n                splice.removed.push(old[oldIndex]);\n                oldIndex++;\n                break;\n            // no default\n        }\n    }\n    if (splice !== void 0) {\n        splices.push(splice);\n    }\n    return splices;\n}\nconst $push = Array.prototype.push;\nfunction mergeSplice(splices, index, removed, addedCount) {\n    const splice = newSplice(index, removed, addedCount);\n    let inserted = false;\n    let insertionOffset = 0;\n    for (let i = 0; i < splices.length; i++) {\n        const current = splices[i];\n        current.index += insertionOffset;\n        if (inserted) {\n            continue;\n        }\n        const intersectCount = intersect(splice.index, splice.index + splice.removed.length, current.index, current.index + current.addedCount);\n        if (intersectCount >= 0) {\n            // Merge the two splices\n            splices.splice(i, 1);\n            i--;\n            insertionOffset -= current.addedCount - current.removed.length;\n            splice.addedCount += current.addedCount - intersectCount;\n            const deleteCount = splice.removed.length + current.removed.length - intersectCount;\n            if (!splice.addedCount && !deleteCount) {\n                // merged splice is a noop. discard.\n                inserted = true;\n            }\n            else {\n                let currentRemoved = current.removed;\n                if (splice.index < current.index) {\n                    // some prefix of splice.removed is prepended to current.removed.\n                    const prepend = splice.removed.slice(0, current.index - splice.index);\n                    $push.apply(prepend, currentRemoved);\n                    currentRemoved = prepend;\n                }\n                if (splice.index + splice.removed.length >\n                    current.index + current.addedCount) {\n                    // some suffix of splice.removed is appended to current.removed.\n                    const append = splice.removed.slice(current.index + current.addedCount - splice.index);\n                    $push.apply(currentRemoved, append);\n                }\n                splice.removed = currentRemoved;\n                if (current.index < splice.index) {\n                    splice.index = current.index;\n                }\n            }\n        }\n        else if (splice.index < current.index) {\n            // Insert splice here.\n            inserted = true;\n            splices.splice(i, 0, splice);\n            i++;\n            const offset = splice.addedCount - splice.removed.length;\n            current.index += offset;\n            insertionOffset += offset;\n        }\n    }\n    if (!inserted) {\n        splices.push(splice);\n    }\n}\nfunction createInitialSplices(changeRecords) {\n    const splices = [];\n    for (let i = 0, ii = changeRecords.length; i < ii; i++) {\n        const record = changeRecords[i];\n        mergeSplice(splices, record.index, record.removed, record.addedCount);\n    }\n    return splices;\n}\n/** @internal */\nexport function projectArraySplices(array, changeRecords) {\n    let splices = [];\n    const initialSplices = createInitialSplices(changeRecords);\n    for (let i = 0, ii = initialSplices.length; i < ii; ++i) {\n        const splice = initialSplices[i];\n        if (splice.addedCount === 1 && splice.removed.length === 1) {\n            if (splice.removed[0] !== array[splice.index]) {\n                splices.push(splice);\n            }\n            continue;\n        }\n        splices = splices.concat(calcSplices(array, splice.index, splice.index + splice.addedCount, splice.removed, 0, splice.removed.length));\n    }\n    return splices;\n}\n", "import { DOM } from \"../dom.js\";\nimport { calcSplices, newSplice, projectArraySplices } from \"./array-change-records.js\";\nimport { SubscriberSet } from \"./notifier.js\";\nimport { Observable } from \"./observable.js\";\nlet arrayObservationEnabled = false;\nfunction adjustIndex(changeRecord, array) {\n    let index = changeRecord.index;\n    const arrayLength = array.length;\n    if (index > arrayLength) {\n        index = arrayLength - changeRecord.addedCount;\n    }\n    else if (index < 0) {\n        index =\n            arrayLength + changeRecord.removed.length + index - changeRecord.addedCount;\n    }\n    if (index < 0) {\n        index = 0;\n    }\n    changeRecord.index = index;\n    return changeRecord;\n}\nclass ArrayObserver extends SubscriberSet {\n    constructor(source) {\n        super(source);\n        this.oldCollection = void 0;\n        this.splices = void 0;\n        this.needsQueue = true;\n        this.call = this.flush;\n        Reflect.defineProperty(source, \"$fastController\", {\n            value: this,\n            enumerable: false,\n        });\n    }\n    subscribe(subscriber) {\n        this.flush();\n        super.subscribe(subscriber);\n    }\n    addSplice(splice) {\n        if (this.splices === void 0) {\n            this.splices = [splice];\n        }\n        else {\n            this.splices.push(splice);\n        }\n        if (this.needsQueue) {\n            this.needsQueue = false;\n            DOM.queueUpdate(this);\n        }\n    }\n    reset(oldCollection) {\n        this.oldCollection = oldCollection;\n        if (this.needsQueue) {\n            this.needsQueue = false;\n            DOM.queueUpdate(this);\n        }\n    }\n    flush() {\n        const splices = this.splices;\n        const oldCollection = this.oldCollection;\n        if (splices === void 0 && oldCollection === void 0) {\n            return;\n        }\n        this.needsQueue = true;\n        this.splices = void 0;\n        this.oldCollection = void 0;\n        const finalSplices = oldCollection === void 0\n            ? projectArraySplices(this.source, splices)\n            : calcSplices(this.source, 0, this.source.length, oldCollection, 0, oldCollection.length);\n        this.notify(finalSplices);\n    }\n}\n/* eslint-disable prefer-rest-params */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/**\n * Enables the array observation mechanism.\n * @remarks\n * Array observation is enabled automatically when using the\n * {@link RepeatDirective}, so calling this API manually is\n * not typically necessary.\n * @public\n */\nexport function enableArrayObservation() {\n    if (arrayObservationEnabled) {\n        return;\n    }\n    arrayObservationEnabled = true;\n    Observable.setArrayObserverFactory((collection) => {\n        return new ArrayObserver(collection);\n    });\n    const proto = Array.prototype;\n    // Don't patch Array if it has already been patched\n    // by another copy of fast-element.\n    if (proto.$fastPatch) {\n        return;\n    }\n    Reflect.defineProperty(proto, \"$fastPatch\", {\n        value: 1,\n        enumerable: false,\n    });\n    const pop = proto.pop;\n    const push = proto.push;\n    const reverse = proto.reverse;\n    const shift = proto.shift;\n    const sort = proto.sort;\n    const splice = proto.splice;\n    const unshift = proto.unshift;\n    proto.pop = function () {\n        const notEmpty = this.length > 0;\n        const methodCallResult = pop.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0 && notEmpty) {\n            o.addSplice(newSplice(this.length, [methodCallResult], 0));\n        }\n        return methodCallResult;\n    };\n    proto.push = function () {\n        const methodCallResult = push.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.addSplice(adjustIndex(newSplice(this.length - arguments.length, [], arguments.length), this));\n        }\n        return methodCallResult;\n    };\n    proto.reverse = function () {\n        let oldArray;\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.flush();\n            oldArray = this.slice();\n        }\n        const methodCallResult = reverse.apply(this, arguments);\n        if (o !== void 0) {\n            o.reset(oldArray);\n        }\n        return methodCallResult;\n    };\n    proto.shift = function () {\n        const notEmpty = this.length > 0;\n        const methodCallResult = shift.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0 && notEmpty) {\n            o.addSplice(newSplice(0, [methodCallResult], 0));\n        }\n        return methodCallResult;\n    };\n    proto.sort = function () {\n        let oldArray;\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.flush();\n            oldArray = this.slice();\n        }\n        const methodCallResult = sort.apply(this, arguments);\n        if (o !== void 0) {\n            o.reset(oldArray);\n        }\n        return methodCallResult;\n    };\n    proto.splice = function () {\n        const methodCallResult = splice.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.addSplice(adjustIndex(newSplice(+arguments[0], methodCallResult, arguments.length > 2 ? arguments.length - 2 : 0), this));\n        }\n        return methodCallResult;\n    };\n    proto.unshift = function () {\n        const methodCallResult = unshift.apply(this, arguments);\n        const o = this.$fastController;\n        if (o !== void 0) {\n            o.addSplice(adjustIndex(newSplice(0, [], arguments.length), this));\n        }\n        return methodCallResult;\n    };\n}\n/* eslint-enable prefer-rest-params */\n/* eslint-enable @typescript-eslint/explicit-function-return-type */\n", "import { AttachedBehaviorHTMLDirective } from \"./html-directive.js\";\n/**\n * The runtime behavior for template references.\n * @public\n */\nexport class RefBehavior {\n    /**\n     * Creates an instance of RefBehavior.\n     * @param target - The element to reference.\n     * @param propertyName - The name of the property to assign the reference to.\n     */\n    constructor(target, propertyName) {\n        this.target = target;\n        this.propertyName = propertyName;\n    }\n    /**\n     * Bind this behavior to the source.\n     * @param source - The source to bind to.\n     * @param context - The execution context that the binding is operating within.\n     */\n    bind(source) {\n        source[this.propertyName] = this.target;\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     */\n    /* eslint-disable-next-line @typescript-eslint/no-empty-function */\n    unbind() { }\n}\n/**\n * A directive that observes the updates a property with a reference to the element.\n * @param propertyName - The name of the property to assign the reference to.\n * @public\n */\nexport function ref(propertyName) {\n    return new AttachedBehaviorHTMLDirective(\"fast-ref\", RefBehavior, propertyName);\n}\n", "/**\n * Determines whether or not an object is a function.\n * @public\n */\nexport const isFunction = (object) => typeof object === \"function\";\n", "import { isFunction } from \"../interfaces.js\";\nconst noTemplate = () => null;\nfunction normalizeBinding(value) {\n    return value === undefined ? noTemplate : isFunction(value) ? value : () => value;\n}\n/**\n * A directive that enables basic conditional rendering in a template.\n * @param binding - The condition to test for rendering.\n * @param templateOrTemplateBinding - The template or a binding that gets\n * the template to render when the condition is true.\n * @param elseTemplateOrTemplateBinding - Optional template or binding that that\n * gets the template to render when the conditional is false.\n * @public\n */\nexport function when(binding, templateOrTemplateBinding, elseTemplateOrTemplateBinding) {\n    const dataBinding = isFunction(binding) ? binding : () => binding;\n    const templateBinding = normalizeBinding(templateOrTemplateBinding);\n    const elseBinding = normalizeBinding(elseTemplateOrTemplateBinding);\n    return (source, context) => dataBinding(source, context)\n        ? templateBinding(source, context)\n        : elseBinding(source, context);\n}\n", "import { DOM } from \"../dom.js\";\nimport { Observable, } from \"../observation/observable.js\";\nimport { enableArrayObservation } from \"../observation/array-observer.js\";\nimport { emptyArray } from \"../platform.js\";\nimport { HTMLDirective } from \"./html-directive.js\";\nimport { HTMLView } from \"./view.js\";\nconst defaultRepeatOptions = Object.freeze({\n    positioning: false,\n    recycle: true,\n});\nfunction bindWithoutPositioning(view, items, index, context) {\n    view.bind(items[index], context);\n}\nfunction bindWithPositioning(view, items, index, context) {\n    const childContext = Object.create(context);\n    childContext.index = index;\n    childContext.length = items.length;\n    view.bind(items[index], childContext);\n}\n/**\n * A behavior that renders a template for each item in an array.\n * @public\n */\nexport class RepeatBehavior {\n    /**\n     * Creates an instance of RepeatBehavior.\n     * @param location - The location in the DOM to render the repeat.\n     * @param itemsBinding - The array to render.\n     * @param isItemsBindingVolatile - Indicates whether the items binding has volatile dependencies.\n     * @param templateBinding - The template to render for each item.\n     * @param isTemplateBindingVolatile - Indicates whether the template binding has volatile dependencies.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(location, itemsBinding, isItemsBindingVolatile, templateBinding, isTemplateBindingVolatile, options) {\n        this.location = location;\n        this.itemsBinding = itemsBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        this.source = null;\n        this.views = [];\n        this.items = null;\n        this.itemsObserver = null;\n        this.originalContext = void 0;\n        this.childContext = void 0;\n        this.bindView = bindWithoutPositioning;\n        this.itemsBindingObserver = Observable.binding(itemsBinding, this, isItemsBindingVolatile);\n        this.templateBindingObserver = Observable.binding(templateBinding, this, isTemplateBindingVolatile);\n        if (options.positioning) {\n            this.bindView = bindWithPositioning;\n        }\n    }\n    /**\n     * Bind this behavior to the source.\n     * @param source - The source to bind to.\n     * @param context - The execution context that the binding is operating within.\n     */\n    bind(source, context) {\n        this.source = source;\n        this.originalContext = context;\n        this.childContext = Object.create(context);\n        this.childContext.parent = source;\n        this.childContext.parentContext = this.originalContext;\n        this.items = this.itemsBindingObserver.observe(source, this.originalContext);\n        this.template = this.templateBindingObserver.observe(source, this.originalContext);\n        this.observeItems(true);\n        this.refreshAllViews();\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     */\n    unbind() {\n        this.source = null;\n        this.items = null;\n        if (this.itemsObserver !== null) {\n            this.itemsObserver.unsubscribe(this);\n        }\n        this.unbindAllViews();\n        this.itemsBindingObserver.disconnect();\n        this.templateBindingObserver.disconnect();\n    }\n    /** @internal */\n    handleChange(source, args) {\n        if (source === this.itemsBinding) {\n            this.items = this.itemsBindingObserver.observe(this.source, this.originalContext);\n            this.observeItems();\n            this.refreshAllViews();\n        }\n        else if (source === this.templateBinding) {\n            this.template = this.templateBindingObserver.observe(this.source, this.originalContext);\n            this.refreshAllViews(true);\n        }\n        else {\n            this.updateViews(args);\n        }\n    }\n    observeItems(force = false) {\n        if (!this.items) {\n            this.items = emptyArray;\n            return;\n        }\n        const oldObserver = this.itemsObserver;\n        const newObserver = (this.itemsObserver = Observable.getNotifier(this.items));\n        const hasNewObserver = oldObserver !== newObserver;\n        if (hasNewObserver && oldObserver !== null) {\n            oldObserver.unsubscribe(this);\n        }\n        if (hasNewObserver || force) {\n            newObserver.subscribe(this);\n        }\n    }\n    updateViews(splices) {\n        const childContext = this.childContext;\n        const views = this.views;\n        const bindView = this.bindView;\n        const items = this.items;\n        const template = this.template;\n        const recycle = this.options.recycle;\n        const leftoverViews = [];\n        let leftoverIndex = 0;\n        let availableViews = 0;\n        for (let i = 0, ii = splices.length; i < ii; ++i) {\n            const splice = splices[i];\n            const removed = splice.removed;\n            let removeIndex = 0;\n            let addIndex = splice.index;\n            const end = addIndex + splice.addedCount;\n            const removedViews = views.splice(splice.index, removed.length);\n            const totalAvailableViews = (availableViews =\n                leftoverViews.length + removedViews.length);\n            for (; addIndex < end; ++addIndex) {\n                const neighbor = views[addIndex];\n                const location = neighbor ? neighbor.firstChild : this.location;\n                let view;\n                if (recycle && availableViews > 0) {\n                    if (removeIndex <= totalAvailableViews && removedViews.length > 0) {\n                        view = removedViews[removeIndex];\n                        removeIndex++;\n                    }\n                    else {\n                        view = leftoverViews[leftoverIndex];\n                        leftoverIndex++;\n                    }\n                    availableViews--;\n                }\n                else {\n                    view = template.create();\n                }\n                views.splice(addIndex, 0, view);\n                bindView(view, items, addIndex, childContext);\n                view.insertBefore(location);\n            }\n            if (removedViews[removeIndex]) {\n                leftoverViews.push(...removedViews.slice(removeIndex));\n            }\n        }\n        for (let i = leftoverIndex, ii = leftoverViews.length; i < ii; ++i) {\n            leftoverViews[i].dispose();\n        }\n        if (this.options.positioning) {\n            for (let i = 0, ii = views.length; i < ii; ++i) {\n                const currentContext = views[i].context;\n                currentContext.length = ii;\n                currentContext.index = i;\n            }\n        }\n    }\n    refreshAllViews(templateChanged = false) {\n        const items = this.items;\n        const childContext = this.childContext;\n        const template = this.template;\n        const location = this.location;\n        const bindView = this.bindView;\n        let itemsLength = items.length;\n        let views = this.views;\n        let viewsLength = views.length;\n        if (itemsLength === 0 || templateChanged || !this.options.recycle) {\n            // all views need to be removed\n            HTMLView.disposeContiguousBatch(views);\n            viewsLength = 0;\n        }\n        if (viewsLength === 0) {\n            // all views need to be created\n            this.views = views = new Array(itemsLength);\n            for (let i = 0; i < itemsLength; ++i) {\n                const view = template.create();\n                bindView(view, items, i, childContext);\n                views[i] = view;\n                view.insertBefore(location);\n            }\n        }\n        else {\n            // attempt to reuse existing views with new data\n            let i = 0;\n            for (; i < itemsLength; ++i) {\n                if (i < viewsLength) {\n                    const view = views[i];\n                    bindView(view, items, i, childContext);\n                }\n                else {\n                    const view = template.create();\n                    bindView(view, items, i, childContext);\n                    views.push(view);\n                    view.insertBefore(location);\n                }\n            }\n            const removed = views.splice(i, viewsLength - i);\n            for (i = 0, itemsLength = removed.length; i < itemsLength; ++i) {\n                removed[i].dispose();\n            }\n        }\n    }\n    unbindAllViews() {\n        const views = this.views;\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            views[i].unbind();\n        }\n    }\n}\n/**\n * A directive that configures list rendering.\n * @public\n */\nexport class RepeatDirective extends HTMLDirective {\n    /**\n     * Creates an instance of RepeatDirective.\n     * @param itemsBinding - The binding that provides the array to render.\n     * @param templateBinding - The template binding used to obtain a template to render for each item in the array.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(itemsBinding, templateBinding, options) {\n        super();\n        this.itemsBinding = itemsBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        /**\n         * Creates a placeholder string based on the directive's index within the template.\n         * @param index - The index of the directive within the template.\n         */\n        this.createPlaceholder = DOM.createBlockPlaceholder;\n        enableArrayObservation();\n        this.isItemsBindingVolatile = Observable.isVolatileBinding(itemsBinding);\n        this.isTemplateBindingVolatile = Observable.isVolatileBinding(templateBinding);\n    }\n    /**\n     * Creates a behavior for the provided target node.\n     * @param target - The node instance to create the behavior for.\n     */\n    createBehavior(target) {\n        return new RepeatBehavior(target, this.itemsBinding, this.isItemsBindingVolatile, this.templateBinding, this.isTemplateBindingVolatile, this.options);\n    }\n}\n/**\n * A directive that enables list rendering.\n * @param itemsBinding - The array to render.\n * @param templateOrTemplateBinding - The template or a template binding used obtain a template\n * to render for each item in the array.\n * @param options - Options used to turn on special repeat features.\n * @public\n */\nexport function repeat(itemsBinding, templateOrTemplateBinding, options = defaultRepeatOptions) {\n    const templateBinding = typeof templateOrTemplateBinding === \"function\"\n        ? templateOrTemplateBinding\n        : () => templateOrTemplateBinding;\n    return new RepeatDirective(itemsBinding, templateBinding, Object.assign(Object.assign({}, defaultRepeatOptions), options));\n}\n", "import { Observable } from \"../observation/observable.js\";\nimport { emptyArray } from \"../platform.js\";\n/**\n * Creates a function that can be used to filter a Node array, selecting only elements.\n * @param selector - An optional selector to restrict the filter to.\n * @public\n */\nexport function elements(selector) {\n    if (selector) {\n        return function (value, index, array) {\n            return value.nodeType === 1 && value.matches(selector);\n        };\n    }\n    return function (value, index, array) {\n        return value.nodeType === 1;\n    };\n}\n/**\n * A base class for node observation.\n * @internal\n */\nexport class NodeObservationBehavior {\n    /**\n     * Creates an instance of NodeObservationBehavior.\n     * @param target - The target to assign the nodes property on.\n     * @param options - The options to use in configuring node observation.\n     */\n    constructor(target, options) {\n        this.target = target;\n        this.options = options;\n        this.source = null;\n    }\n    /**\n     * Bind this behavior to the source.\n     * @param source - The source to bind to.\n     * @param context - The execution context that the binding is operating within.\n     */\n    bind(source) {\n        const name = this.options.property;\n        this.shouldUpdate = Observable.getAccessors(source).some((x) => x.name === name);\n        this.source = source;\n        this.updateTarget(this.computeNodes());\n        if (this.shouldUpdate) {\n            this.observe();\n        }\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     */\n    unbind() {\n        this.updateTarget(emptyArray);\n        this.source = null;\n        if (this.shouldUpdate) {\n            this.disconnect();\n        }\n    }\n    /** @internal */\n    handleEvent() {\n        this.updateTarget(this.computeNodes());\n    }\n    computeNodes() {\n        let nodes = this.getNodes();\n        if (this.options.filter !== void 0) {\n            nodes = nodes.filter(this.options.filter);\n        }\n        return nodes;\n    }\n    updateTarget(value) {\n        this.source[this.options.property] = value;\n    }\n}\n", "import { AttachedBehaviorHTMLDirective } from \"./html-directive.js\";\nimport { NodeObservationBehavior } from \"./node-observation.js\";\n/**\n * The runtime behavior for slotted node observation.\n * @public\n */\nexport class SlottedBehavior extends NodeObservationBehavior {\n    /**\n     * Creates an instance of SlottedBehavior.\n     * @param target - The slot element target to observe.\n     * @param options - The options to use when observing the slot.\n     */\n    constructor(target, options) {\n        super(target, options);\n    }\n    /**\n     * Begins observation of the nodes.\n     */\n    observe() {\n        this.target.addEventListener(\"slotchange\", this);\n    }\n    /**\n     * Disconnects observation of the nodes.\n     */\n    disconnect() {\n        this.target.removeEventListener(\"slotchange\", this);\n    }\n    /**\n     * Retrieves the nodes that should be assigned to the target.\n     */\n    getNodes() {\n        return this.target.assignedNodes(this.options);\n    }\n}\n/**\n * A directive that observes the `assignedNodes()` of a slot and updates a property\n * whenever they change.\n * @param propertyOrOptions - The options used to configure slotted node observation.\n * @public\n */\nexport function slotted(propertyOrOptions) {\n    if (typeof propertyOrOptions === \"string\") {\n        propertyOrOptions = { property: propertyOrOptions };\n    }\n    return new AttachedBehaviorHTMLDirective(\"fast-slotted\", SlottedBehavior, propertyOrOptions);\n}\n", "import { AttachedBehaviorHTMLDirective } from \"./html-directive.js\";\nimport { NodeObservationBehavior } from \"./node-observation.js\";\n/**\n * The runtime behavior for child node observation.\n * @public\n */\nexport class ChildrenBehavior extends NodeObservationBehavior {\n    /**\n     * Creates an instance of ChildrenBehavior.\n     * @param target - The element target to observe children on.\n     * @param options - The options to use when observing the element children.\n     */\n    constructor(target, options) {\n        super(target, options);\n        this.observer = null;\n        options.childList = true;\n    }\n    /**\n     * Begins observation of the nodes.\n     */\n    observe() {\n        if (this.observer === null) {\n            this.observer = new MutationObserver(this.handleEvent.bind(this));\n        }\n        this.observer.observe(this.target, this.options);\n    }\n    /**\n     * Disconnects observation of the nodes.\n     */\n    disconnect() {\n        this.observer.disconnect();\n    }\n    /**\n     * Retrieves the nodes that should be assigned to the target.\n     */\n    getNodes() {\n        if (\"subtree\" in this.options) {\n            return Array.from(this.target.querySelectorAll(this.options.selector));\n        }\n        return Array.from(this.target.childNodes);\n    }\n}\n/**\n * A directive that observes the `childNodes` of an element and updates a property\n * whenever they change.\n * @param propertyOrOptions - The options used to configure child node observation.\n * @public\n */\nexport function children(propertyOrOptions) {\n    if (typeof propertyOrOptions === \"string\") {\n        propertyOrOptions = {\n            property: propertyOrOptions,\n        };\n    }\n    return new AttachedBehaviorHTMLDirective(\"fast-children\", ChildrenBehavior, propertyOrOptions);\n}\n"],
  "mappings": "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",
  "names": ["html", "attr", "html", "splice"]
}
